{
  "web_file": {
    "file_save_02:自走車 - 範例": "{\"tx_html\":\"<div title=\\\"連線狀態\\\" id=\\\"status_light\\\" class=\\\"light-red\\\"></div>\\n\\n<div class=\\\"control-panel\\\">\\n    <div>\\n        <table class=\\\"ping-table\\\">\\n            <tr>\\n                <th rowspan=\\\"2\\\" style=\\\"border-radius:30px 0px 0px 30px\\\">超音波(mm)</th>\\n                <th>前</th>\\n                <th>後</th>\\n                <th>左</th>\\n                <th style=\\\"border-radius:0px 30px 0px 0px\\\">右</th>\\n            </tr>\\n            <tr>\\n                <td id=\\\"ping_f\\\" style=\\\"border-radius:0px 0px 0px 30px\\\">-</td>\\n                <td id=\\\"ping_b\\\">-</td>\\n                <td id=\\\"ping_l\\\">-</td>\\n                <td id=\\\"ping_r\\\" style=\\\"border-radius:0px 0px 30px 0px\\\">-</td>\\n            </tr>\\n        </table>\\n        <table id=\\\"color_panel\\\" class=\\\"color-table\\\" border=\\\"0\\\">\\n            <tr>\\n                <td id=\\\"dir_lf\\\" class=\\\"dir-text\\\" style=\\\"border-radius:30px 0px 0px 0px\\\"></td>\\n                <td id=\\\"dir_f\\\" class=\\\"dir-text\\\"></td>\\n                <td id=\\\"dir_rf\\\" class=\\\"dir-text\\\" style=\\\"border-radius:0px 30px 0px 0px\\\"></td>\\n            </tr>\\n            <tr>\\n                <td id=\\\"dir_l\\\" class=\\\"dir-text\\\"></td>\\n                <td id=\\\"dir_stop\\\" class=\\\"dir-text\\\"></td>\\n                <td id=\\\"dir_r\\\" class=\\\"dir-text\\\"></td>\\n            </tr>\\n            <tr>\\n                <td id=\\\"dir_lb\\\" class=\\\"dir-text\\\" style=\\\"border-radius:0px 0px 0px 30px\\\"></td>\\n                <td id=\\\"dir_b\\\" class=\\\"dir-text\\\"></td>\\n                <td id=\\\"dir_rb\\\" class=\\\"dir-text\\\" style=\\\"border-radius:0px 0px 30px 0px\\\"></td>\\n            </tr>\\n        </table>\\n\\n    </div>\\n    <div>\\n        <div class=\\\"config-style\\\">\\n            <button id=\\\"config_color\\\" class=\\\"btn-basic btn-md warning\\\">顏色校正</button>\\n            <button id=\\\"config_code\\\" class=\\\"btn-basic btn-md primary\\\">程式編輯</button>\\n        </div>\\n        <div class=\\\"joy-style\\\">\\n            <div id=\\\"joy1Div\\\" class=\\\"joystick-style\\\"></div>\\n        </div>\\n    </div>\\n</div>\",\"tx_css\":\"#status_light {\\n    position: absolute;\\n    top: 0.5rem;\\n    left: 0.5rem;\\n    width: 20px;\\n    height: 20px;\\n    border-radius: 100%;\\n    transition-property: background-color, border-color, color, fill, stroke;\\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n    transition-duration: 300ms;\\n}\\n\\n.light-red {\\n    background-color: #ff4400;\\n    box-shadow: 0px 0px 10px #ff4400;\\n}\\n\\n.light-green {\\n    background-color: #00ff44;\\n    box-shadow: 0px 0px 10px #00ff44;\\n}\\n\\n.row\\n{\\n    display: inline-flex;\\n    clear: both;\\n}\\n.columnLateral\\n{\\n    float: left;\\n    width: 15%;\\n    min-width: 300px;\\n}\\n.columnCetral\\n{\\n    float: left;\\n    width: 70%;\\n    min-width: 300px;\\n}\\n#joy2Div\\n{\\n    width: 200px;\\n    height: 200px;\\n    margin: 50px\\n}\\n#joystick\\n{\\n    border: 1px solid #FF000000;\\n}\\n\\n.joystick-style {\\n    width: 200px;\\n    height: 200px;\\n    margin: 50px;\\n}\\n\\n.control-panel {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n}\\n\\n.ping-table {\\n    width: 90%;\\n    max-width: 400px;\\n    font-size: 18px;\\n    margin: auto;\\n    margin-bottom: 2rem;\\n    border-radius: 30px;\\n    box-shadow: 0px 0px 10px #ccc;\\n    table-layout: fixed;\\n}\\n\\n.ping-table th {\\n    background-color: #ffcf00;\\n    padding: 5px 0px;\\n}\\n\\n.ping-table td {\\n    text-align: center;\\n    color: #fff;\\n    background-color: #3f3f3f;\\n    padding: 30px 0px;\\n}\\n\\n.color-table {\\n    margin: auto;\\n    border-radius: 30px;\\n    box-shadow: 0px 0px 10px #ccc;\\n}\\n\\n.color-table td {\\n    padding: 35px;\\n    background-color: #ccc;\\n    width: 106px;\\n    height: 106px;\\n    text-align: center;\\n}\\n\\n.config-style {\\n    display: flex;\\n    margin-top: 3rem;\\n    /*flex-direction: column;*/\\n}\\n\\n.dir-text {\\n    font-size: 24px;\\n    font-weight: bold;\\n}\\n\\n@media only screen and (max-width: 480px) {\\n\\n    .color-table td {\\n        padding: 25px !important;\\n        width: 74px;\\n        height: 74px;\\n    }\\n\\n    .dir-text {\\n        font-size: 16px;\\n    }\\n}\\n\\n@media only screen and (max-height: 480px) {\\n    .control-panel {\\n        flex-direction: row;\\n        justify-content: space-around;\\n        margin-top: initial;\\n    }\\n    .color-table {\\n        width: initial;\\n    }\\n    .color-table td {\\n        padding: 25px !important;\\n        width: 74px;\\n        height: 74px;\\n    }\\n    .config-style {\\n        margin-top: initial;\\n    }\\n    .dir-text {\\n        font-size: 16px;\\n    }\\n\\n    .joy-style {\\n        width: 250px;\\n        display: flex;\\n        justify-content: space-between;\\n    }\\n}\",\"tx_data\":\"/*data will be e.data from websocket*/\\nfunction dataFormatEntryPoint(data) {\\n    if (data instanceof Uint8Array) {\\n        data[0] === 0x00\\n        ? showSYS(data): data[0] === 0x01\\n        ? showEEPROM(data): data[0] === 0x02\\n        ? showUserData(data): 0;\\n    }\\n}\\n\\nfunction showSYS(data) {\\n    len = data[1];\\n    len <<= 8;\\n    len += data[2];\\n    if (len < 4) return;\\n    lt = 0;\\n    for (i = 3; i < 7; ++i) {\\n        lt <<= 8;\\n        lt += data[i];\\n    }\\n    $(\\\"LT\\\").innerHTML = lt;\\n    window.current_LT = lt;\\n}\\n\\nfunction showUserData(data) {\\n    let d = data2json(data);\\n    showColorDectect({\\n        colorF: d.colorF, colorB: d.colorB, colorL: d.colorL, colorR: d.colorR\\n    })\\n    showPingValue({pingF:d.pingF,pingB:d.pingB,pingL:d.pingL,pingR:d.pingR});\\n}\\n\\nfunction showColorDectect(colors) {\\n    let F = `rgb(${colors.colorF[0]},${colors.colorF[1]},${colors.colorF[2]})`;\\n    let B = `rgb(${colors.colorB[0]},${colors.colorB[1]},${colors.colorB[2]})`;\\n    let L = `rgb(${colors.colorL[0]},${colors.colorL[1]},${colors.colorL[2]})`;\\n    let R = `rgb(${colors.colorR[0]},${colors.colorR[1]},${colors.colorR[2]})`;\\n    $(\\\"dir_f\\\").style.backgroundColor = F;\\n    $(\\\"dir_b\\\").style.backgroundColor = B;\\n    $(\\\"dir_l\\\").style.backgroundColor = L;\\n    $(\\\"dir_r\\\").style.backgroundColor = R;\\n    $(\\\"dir_f\\\").style.color = `rgb(${255 - colors.colorF[0]},${255 - colors.colorF[1]},${255 - colors.colorF[2]})`;\\n    $(\\\"dir_b\\\").style.color = `rgb(${255 - colors.colorB[0]},${255 - colors.colorB[1]},${255 - colors.colorB[2]})`;\\n    $(\\\"dir_l\\\").style.color = `rgb(${255 - colors.colorL[0]},${255 - colors.colorL[1]},${255 - colors.colorL[2]})`;\\n    $(\\\"dir_r\\\").style.color = `rgb(${255 - colors.colorR[0]},${255 - colors.colorR[1]},${255 - colors.colorR[2]})`;\\n    // $(\\\"dir_f\\\").innerText = colors.colorF[3];\\n    // $(\\\"dir_b\\\").innerText = colors.colorB[3];\\n    // $(\\\"dir_l\\\").innerText = colors.colorL[3];\\n    // $(\\\"dir_r\\\").innerText = colors.colorR[3];\\n}\\n\\nfunction showPingValue(ping){\\n    $(\\\"ping_f\\\").innerText = Math.round(ping.pingF/10);\\n    $(\\\"ping_b\\\").innerText = Math.round(ping.pingB/10);\\n    $(\\\"ping_l\\\").innerText = Math.round(ping.pingL/10);\\n    $(\\\"ping_r\\\").innerText = Math.round(ping.pingR/10);\\n}\\n\\n// RGB轉換HSL\\nfunction RGBToHSL(r, g, b) {\\n    r /= 255;\\n    g /= 255;\\n    b /= 255;\\n\\n    let cmin = Math.min(r, g, b),\\n    cmax = Math.max(r, g, b),\\n    delta = cmax - cmin,\\n    h = 0,\\n    s = 0,\\n    l = 0;\\n    if (delta == 0) h = 0;\\n    else if (cmax == r) h = ((g - b) / delta) % 6;\\n    else if (cmax == g) h = (b - r) / delta + 2;\\n    else h = (r - g) / delta + 4;\\n\\n    h = Math.round(h * 60);\\n\\n    if (h < 0) h += 360;\\n    l = (cmax + cmin) / 2;\\n\\n    s = delta == 0 ? 0: delta / (1 - Math.abs(2 * l - 1));\\n\\n    s = +(s * 100).toFixed(1);\\n    l = +(l * 100).toFixed(1);\\n\\n    // console.log(\\\"hsl(\\\" + h + \\\",\\\" + s + \\\"%,\\\" + l + \\\"%)\\\");\\n    return {\\n        h: h,\\n        s: s,\\n        l: l\\n    };\\n}\\n\\n// 從HSL判斷顏色\\nfunction HSLToColor(hsl) {\\n    if (hsl.s < 15 && hsl.l < 75) {\\n        return \\\"黑\\\";\\n    }\\n    if (\\n        ((hsl.h >= 0 && hsl.h < 30) || (hsl.h >= 320 && hsl.h <= 340)) &&\\n        hsl.s > 40 &&\\n        hsl.l > 80 &&\\n        hsl.l < 95\\n    ) {\\n        return \\\"粉\\\";\\n    }\\n    if ((hsl.s < 30 && hsl.l > 90) || hsl.l > 95) {\\n        return \\\"白\\\";\\n    }\\n    if ((hsl.h >= 0 && hsl.h < 20) || (hsl.h >= 320 && hsl.h <= 360)) {\\n        return \\\"紅\\\";\\n    }\\n    if (hsl.h >= 20 && hsl.h < 75) {\\n        return \\\"黃\\\";\\n    }\\n    if (hsl.h >= 75 && hsl.h < 170) {\\n        return \\\"綠\\\";\\n    }\\n    if (hsl.h >= 170 && hsl.h < 230) {\\n        return \\\"藍\\\";\\n    }\\n    if (hsl.h >= 230 && hsl.h < 320) {\\n        return \\\"紫\\\";\\n    }\\n}\\n\\n// 將輸入資料轉成json\\nfunction data2json(data) {\\n    let newData = {};\\n    let arr_ping = [];\\n    let arr_rgb = [];\\n\\n    // 超音波感測\\n    for (let i = 0; i < 4; i++) {\\n        let element = data[i * 2 + 3];\\n        element <<= 8;\\n        element += data[i * 2 + 4];\\n        arr_ping.push(element);\\n    }\\n    newData.pingF = arr_ping[0];\\n    newData.pingL = arr_ping[1];\\n    newData.pingR = arr_ping[2];\\n    newData.pingB = arr_ping[3];\\n\\n    // RGB色碼+簡單顏色\\n    for (let i = 0; i < 4; i++) {\\n        let r = data[i * 4 + 11];\\n        let g = data[i * 4 + 12];\\n        let b = data[i * 4 + 13];\\n        arr_rgb.push([r, g, b, HSLToColor(RGBToHSL(r, g, b))]);\\n    }\\n    newData.colorF = arr_rgb[0];\\n    newData.colorB = arr_rgb[1];\\n    newData.colorL = arr_rgb[2];\\n    newData.colorR = arr_rgb[3];\\n\\n    // 檢查arduino資料表頭\\n    if (data[35] == 0x03) {\\n        console.log(data[37])\\n        // 方向\\n        newData.dir = getDir(data[37]);\\n\\n        // 速度\\n        newData.speed = [\\n            getSpeed(data[38]),\\n            getSpeed(data[39]),\\n            getSpeed(data[40]),\\n            getSpeed(data[41]),\\n        ];\\n    }\\n\\n    return newData;\\n}\\n\\n// 方向查表\\nfunction getDir(data) {\\n    clearText();\\n    switch (data) {\\n        case 0x00:\\n            $(\\\"dir_stop\\\").innerHTML = \\\"&#9940;\\\";\\n            return \\\"停止\\\";\\n        case 0x01:\\n            $(\\\"dir_f\\\").innerHTML = \\\"&#8613;\\\";\\n            return \\\"向前\\\";\\n        case 0x02:\\n            $(\\\"dir_b\\\").innerHTML = \\\"&#8615;\\\";\\n            return \\\"向後\\\";\\n        case 0x03:\\n            $(\\\"dir_l\\\").innerHTML = \\\"&#8612;\\\";\\n            return \\\"向左\\\";\\n        case 0x04:\\n            $(\\\"dir_r\\\").innerHTML = \\\"&#8614;\\\";\\n            return \\\"向右\\\";\\n        case 0x05:\\n            $(\\\"dir_lf\\\").innerHTML = \\\"&#8598;\\\";\\n            return \\\"左前\\\";\\n        case 0x06:\\n            $(\\\"dir_rf\\\").innerHTML = \\\"&#8599;\\\";\\n            return \\\"右前\\\";\\n        case 0x07:\\n            $(\\\"dir_lb\\\").innerHTML = \\\"&#8601;\\\";\\n            return \\\"左後\\\";\\n        case 0x08:\\n            $(\\\"dir_rb\\\").innerHTML = \\\"&#8600;\\\";\\n            return \\\"右後\\\";\\n        case 0x09:\\n            $(\\\"dir_stop\\\").innerHTML = \\\"&#8634;\\\";\\n            return \\\"逆轉\\\";\\n        case 0x0a:\\n            $(\\\"dir_stop\\\").innerHTML = \\\"&#8635;\\\";\\n            return \\\"順轉\\\";\\n        case 0x0b:\\n            return \\\"自由\\\";\\n    }\\n}\\n\\n// 速度轉換\\nfunction getSpeed(data) {\\n    return data < 0x80 ? -(data * 2): (data & 127) << 1;\\n}\\n\\nfunction clearText() {\\n    $(\\\"dir_stop\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_f\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_b\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_l\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_r\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_lf\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_rf\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_lb\\\").innerHTML = \\\"\\\";\\n    $(\\\"dir_rb\\\").innerHTML = \\\"\\\";\\n}\",\"tx_ui_app\":\"# 群組標題一\\ntitle: 命令改變框中內容 , val: 預設顯示內容, val_id: val_1, btn_id: btn_1\\ntitle: 僅框中內容改變 , val: 等待改變..., val_id: val_2\\n\\n# 群組標題二\\ntitle: 僅觸發按鈕事件 , val: 點擊設定 , btn_id: btn_2\",\"tx_app\":\"function $(id) {\\n    return document.getElementById(id);\\n}\\n\\n// 清除所有Interval\\nfunction createClearAllInterval() {\\n\\n    const noop = () => {};\\n    let firstId = setInterval(noop, 0);\\n\\n    return () => {\\n        const lastId = setInterval(noop, 0);\\n        while (firstId !== lastId) {\\n            firstId += 1;\\n            clearInterval(firstId);\\n        }\\n    };\\n}\\n\\n// 重新定義函式\\nvar clearAllInterval = createClearAllInterval();\\n\\nwindow.control_flag = false;\\n\\n// 自走車控制\\nfunction CarControl() {\\n    try {\\n        let dir = window.joystick_data.dir;\\n        let sp = CarSpeed();\\n        console.log(dir, sp);\\n        postCmd(`VM<${dir}${sp}`);\\n        setInterval(() => {\\n            dir = window.joystick_data.dir;\\n            sp = CarSpeed();\\n            postCmd(`VM<${dir}${sp}`);\\n        },\\n            500);\\n        setInterval(() => {\\n            if (window.control_flag == false && sp != \\\"0\\\") {\\n                postCmd(`VM<00`);\\n            }\\n        },\\n            300);\\n    } catch (error) {\\n        console.log(error);\\n    }\\n}\\n\\n// 自走車速度\\nfunction CarSpeed() {\\n    let x_speed = (Math.abs(window.joystick_data.x) - 40) *3;\\n    let y_speed = (Math.abs(window.joystick_data.y)-40) *3;\\n    let xy_speed = Math.round((x_speed + y_speed) / 2);\\n    let sp;\\n    switch (window.joystick_data.cardinalDirection) {\\n        case 'C':\\n            console.log(\\\"stop\\\");\\n            sp = 0;\\n            break;\\n        case 'N':\\n            console.log(\\\"front\\\");\\n            sp = y_speed;\\n            break;\\n        case 'S':\\n            console.log(\\\"back\\\");\\n            sp = y_speed;\\n            break;\\n        case 'W':\\n            console.log(\\\"left\\\");\\n            sp = x_speed;\\n            break;\\n        case 'E':\\n            console.log(\\\"right\\\");\\n            sp = x_speed;\\n            break;\\n        case 'NW':\\n            console.log(\\\"left front\\\");\\n            sp = xy_speed;\\n            break;\\n        case 'NE':\\n            console.log(\\\"right back\\\");\\n            sp = xy_speed;\\n            break;\\n        case 'SW':\\n            console.log(\\\"left back\\\");\\n            sp = xy_speed;\\n            break;\\n        case 'SE':\\n            console.log(\\\"right back\\\");\\n            sp = xy_speed;\\n            break;\\n        default:\\n            break;\\n    }\\n\\n    return sp.toString(16);\\n}\\n\\nwindow.current_LT = 0;\\nwindow.previous_LT = 0;\\n\\n// check if life time are increasing\\nwindow.checkLT = function() {\\n    setInterval(()=> {\\n        if (window.previous_LT === window.current_LT) {\\n            console.log(\\\"lost connect\\\");\\n            $(\\\"status_light\\\").classList.remove(\\\"light-green\\\");\\n        } else {\\n            window.previous_LT = window.current_LT;\\n            $(\\\"status_light\\\").classList.add(\\\"light-green\\\");\\n        }\\n    },\\n        2000);\\n}\\ncheckLT();\\n\\nwindow.clearIntervalandCheckLT = function() {\\n    console.log(\\\"clear interval\\\");\\n    clearAllInterval();\\n    checkLT();\\n\\n}\\n\\nwindow.StickStatus = {\\n    xPosition: 0,\\n    yPosition: 0,\\n    x: 0,\\n    y: 0,\\n    cardinalDirection: \\\"C\\\"\\n}; var JoyStick = function(t, e, i) {\\n    var o = void 0 === (e = e || {}).title?\\\"joystick\\\": e.title,\\n    n = void 0 === e.width?0: e.width,\\n    a = void 0 === e.height?0: e.height,\\n    r = void 0 === e.internalFillColor?\\\"#58B2DC\\\": e.internalFillColor,\\n    c = void 0 === e.internalLineWidth?2: e.internalLineWidth,\\n    s = void 0 === e.internalStrokeColor?\\\"#2B5F75\\\": e.internalStrokeColor,\\n    d = void 0 === e.externalLineWidth?2: e.externalLineWidth,\\n    u = void 0 === e.externalStrokeColor?\\\"#58B2DC\\\": e.externalStrokeColor,\\n    h = void 0 === e.autoReturnToCenter || e.autoReturnToCenter; i = i || function(t) {}; var S = document.getElementById(t); S.style.touchAction = \\\"none\\\"; var f = document.createElement(\\\"canvas\\\"); f.id = o,\\n    0 === n && (n = S.clientWidth),\\n    0 === a && (a = S.clientHeight),\\n    f.width = n,\\n    f.height = a,\\n    S.appendChild(f); var l = f.getContext(\\\"2d\\\"),\\n    k = 0,\\n    g = 2*Math.PI,\\n    x = (f.width-(f.width/2+10))/2,\\n    v = x+5,\\n    P = x+30,\\n    m = f.width/2,\\n    C = f.height/2,\\n    p = f.width/10,\\n    y=-1*p,\\n    w = f.height/10,\\n    L=-1*w,\\n    F = m,\\n    E = C; function W() {\\n        l.beginPath(),\\n        l.arc(m,\\n            C,\\n            P,\\n            0,\\n            g,\\n            !1),\\n        l.lineWidth = d,\\n        l.strokeStyle = u,\\n        l.stroke()}function T() {\\n        l.beginPath(),\\n        F < x && (F = v),\\n        F+x > f.width && (F = f.width-v),\\n        E < x && (E = v),\\n        E+x > f.height && (E = f.height-v),\\n        l.arc(F,\\n            E,\\n            x,\\n            0,\\n            g,\\n            !1); var t = l.createRadialGradient(m,\\n            C,\\n            5,\\n            m,\\n            C,\\n            200); t.addColorStop(0,\\n            r),\\n        t.addColorStop(1,\\n            s),\\n        l.fillStyle = t,\\n        l.fill(),\\n        l.lineWidth = c,\\n        l.strokeStyle = s,\\n        l.stroke()}function D() {\\n        let t = \\\"\\\",\\n        e = F-m,\\n        i = E-C; return i >= L && i <= w && (t = \\\"C\\\"),\\n        i < L && (t = \\\"N\\\"),\\n        i > w && (t = \\\"S\\\"),\\n        e < y && (\\\"C\\\" === t?t = \\\"W\\\": t += \\\"W\\\"),\\n        e > p && (\\\"C\\\" === t?t = \\\"E\\\": t += \\\"E\\\"),\\n        t\\n    }\\\"ontouchstart\\\"in document.documentElement?(f.addEventListener(\\\"touchstart\\\", function(t) {\\n            k = 1\\n        }, !1),\\n        document.addEventListener(\\\"touchmove\\\", function(t) {\\n            1 === k && t.targetTouches[0].target === f && (F = t.targetTouches[0].pageX, E = t.targetTouches[0].pageY, \\\"BODY\\\" === f.offsetParent.tagName.toUpperCase()?(F -= f.offsetLeft, E -= f.offsetTop): (F -= f.offsetParent.offsetLeft, E -= f.offsetParent.offsetTop), l.clearRect(0, 0, f.width, f.height), W(), T(), StickStatus.xPosition = F, StickStatus.yPosition = E, StickStatus.x = ((F-m)/v*100).toFixed(), StickStatus.y = ((E-C)/v*100*-1).toFixed(), StickStatus.cardinalDirection = D(), i(StickStatus))}, !1),\\n        document.addEventListener(\\\"touchend\\\", function(t) {\\n            k = 0, h && (F = m, E = C); l.clearRect(0, 0, f.width, f.height), W(), T(), StickStatus.xPosition = F, StickStatus.yPosition = E, StickStatus.x = ((F-m)/v*100).toFixed(), StickStatus.y = ((E-C)/v*100*-1).toFixed(), StickStatus.cardinalDirection = D(), i(StickStatus)}, !1)): (f.addEventListener(\\\"mousedown\\\", function(t) {\\n            k = 1\\n        }, !1),\\n        document.addEventListener(\\\"mousemove\\\", function(t) {\\n            1 === k && (F = t.pageX, E = t.pageY, \\\"BODY\\\" === f.offsetParent.tagName.toUpperCase()?(F -= f.offsetLeft, E -= f.offsetTop): (F -= f.offsetParent.offsetLeft, E -= f.offsetParent.offsetTop), l.clearRect(0, 0, f.width, f.height), W(), T(), StickStatus.xPosition = F, StickStatus.yPosition = E, StickStatus.x = ((F-m)/v*100).toFixed(), StickStatus.y = ((E-C)/v*100*-1).toFixed(), StickStatus.cardinalDirection = D(), i(StickStatus))}, !1),\\n        document.addEventListener(\\\"mouseup\\\", function(t) {\\n            k = 0, h && (F = m, E = C); l.clearRect(0, 0, f.width, f.height), W(), T(), StickStatus.xPosition = F, StickStatus.yPosition = E, StickStatus.x = ((F-m)/v*100).toFixed(), StickStatus.y = ((E-C)/v*100*-1).toFixed(), StickStatus.cardinalDirection = D(), i(StickStatus)}, !1)),\\n    W(),\\n    T(),\\n    this.GetWidth = function() {\\n        return f.width\\n    },\\n    this.GetHeight = function() {\\n        return f.height\\n    },\\n    this.GetPosX = function() {\\n        return F\\n    },\\n    this.GetPosY = function() {\\n        return E\\n    },\\n    this.GetX = function() {\\n        return((F-m)/v*100).toFixed()},\\n    this.GetY = function() {\\n        return((E-C)/v*100*-1).toFixed()},\\n    this.GetDir = function() {\\n        return D()}};\\n\\nwindow.joystick_data = undefined;\\nvar joy1IinputPosX = document.getElementById(\\\"joy1PosizioneX\\\");\\nvar joy1InputPosY = document.getElementById(\\\"joy1PosizioneY\\\");\\nvar joy1Direzione = document.getElementById(\\\"joy1Direzione\\\");\\nvar joy1X = document.getElementById(\\\"joy1X\\\");\\nvar joy1Y = document.getElementById(\\\"joy1Y\\\");\\nvar Joy1 = new JoyStick('joy1Div', {}, function(stickData) {\\n    // joy1IinputPosX.value = stickData.xPosition;\\n    // joy1InputPosY.value = stickData.yPosition;\\n    // joy1Direzione.value = stickData.cardinalDirection;\\n    // joy1X.value = stickData.x;\\n    // joy1Y.value = stickData.y;\\n    window.joystick_data = stickData;\\n    switch (stickData.cardinalDirection) {\\n        case 'C':\\n            // console.log(\\\"stop\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"00\\\";\\n            break;\\n        case 'N':\\n            // console.log(\\\"front\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"01\\\";\\n            break;\\n        case 'S':\\n            // console.log(\\\"back\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"02\\\";\\n            break;\\n        case 'W':\\n            // console.log(\\\"left\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"03\\\";\\n            break;\\n        case 'E':\\n            // console.log(\\\"right\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"04\\\";\\n            break;\\n        case 'NW':\\n            // console.log(\\\"left front\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"05\\\";\\n            break;\\n        case 'NE':\\n            // console.log(\\\"right back\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"06\\\";\\n            break;\\n        case 'SW':\\n            // console.log(\\\"left back\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"07\\\";\\n            break;\\n        case 'SE':\\n            // console.log(\\\"right back\\\");\\n            window.joystick_data[\\\"dir\\\"] = \\\"08\\\";\\n            break;\\n        default:\\n            break;\\n    }\\n});\\n\\n$(\\\"joy1Div\\\").addEventListener(\\\"pointerdown\\\", ()=> {\\n    console.log(\\\"pointerdown\\\");\\n    window.control_flag = true;\\n    clearIntervalandCheckLT();\\n    CarControl();\\n})\\n\\n$(\\\"joy1Div\\\").addEventListener(\\\"pointerup\\\", ()=> {\\n    console.log(\\\"pointerup\\\");\\n    clearIntervalandCheckLT();\\n    window.control_flag = false;\\n    setTimeout(()=> {\\n        postCmd(`VM<00`);\\n    }, 300);\\n})\\n\\ndocument.addEventListener(\\\"pointerup\\\", ()=> {\\n    console.log(\\\"d - pointerup\\\");\\n    window.control_flag = false;\\n    clearIntervalandCheckLT();\\n    setTimeout(()=> {\\n        postCmd(`VM<00`);\\n    }, 300);\\n})\\n\\n\\n$(\\\"config_color\\\").addEventListener(\\\"click\\\", async()=> {\\n    clearIntervalandCheckLT();\\n    const delay = (s) => {\\n        return new Promise((resolve) => {\\n            setTimeout(resolve, s);\\n        });\\n    };\\n    let value = prompt(\\\"輸入感測器LED亮度以自動進行白平衡校正，數字越小越亮(1~A)\\\")\\n    if (value) {\\n        console.log(\\\"校正中...\\\");\\n        spin(1);\\n        postCmd(`cb f ${value}`);\\n        await delay(500);\\n        postCmd(`cb b ${value}`);\\n        await delay(500);\\n        postCmd(`cb l ${value}`);\\n        await delay(500);\\n        postCmd(`cb r ${value}`);\\n        await delay(500);\\n        postCmd(`cb f ${value}`);\\n        await delay(500);\\n        postCmd(`cb b ${value}`);\\n        await delay(500);\\n        postCmd(`cb l ${value}`);\\n        await delay(500);\\n        postCmd(`cb r ${value}`);\\n        spin(0);\\n        console.log(\\\"校正完畢\\\");\\n    }\\n})\\n\\n$(\\\"config_code\\\").addEventListener(\\\"click\\\", ()=> {\\n    alert(\\\"開發中...\\\");\\n})\",\"option_title\":\"智慧自走車\",\"option_home_color\":\"#ffffff\",\"option_home_background\":\"#3f3f3f\",\"option_version\":\"0.0.1-car-example\",\"options_flag\":{\"title\":true,\"footer\":false,\"systemStatus\":false,\"config\":true,\"schedule\":true,\"custom\":true,\"network\":true,\"system\":true,\"terminal\":false},\"libs\":{},\"lib_size\":{}}",
    "file_save_03:折線圖 - 範例": "{\"tx_html\":\"<div title=\\\"連線狀態\\\" id=\\\"status_light\\\" class=\\\"light-red\\\"></div>\\n<div class=\\\"main-container\\\">\\n    <div id=\\\"chart\\\" class=\\\"chart\\\">\\n    </div>\\n    <div class=\\\"setting-area\\\">\\n\\n        <button id=\\\"sample_start\\\" class=\\\"btn-basic btn-sm primary\\\">Start</button>\\n        <button id=\\\"sample_stop\\\" class=\\\"btn-basic btn-sm danger\\\">Stop</button>\\n        <button id=\\\"sample_step\\\" class=\\\"btn-basic btn-md warning\\\">採樣間隔</button>\\n        <div id=\\\"dt\\\" class=\\\"sampling-step\\\">\\n            頻率: - Hz\\n        </div>\\n    </div>\\n</div>\",\"tx_css\":\"#status_light {\\n    position: absolute;\\n    top: 0.5rem;\\n    left: 0.5rem;\\n    width: 20px;\\n    height: 20px;\\n    border-radius: 100%;\\n    transition-property: background-color, border-color, color, fill, stroke;\\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n    transition-duration: 300ms;\\n}\\n\\n.light-red {\\n    background-color: #ff4400;\\n    box-shadow: 0px 0px 10px #ff4400;\\n}\\n\\n.light-green {\\n    background-color: #00ff44;\\n    box-shadow: 0px 0px 10px #00ff44;\\n}\\n\\n.u-label,.u-value {\\n    color: #fff;\\n}\\n\\n.main-container {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-evenly;\\n}\\n\\n.chart {\\n    height: 800px;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.setting-area {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.sampling-step {\\n    color: #fff;\\n    text-align: center;\\n    font-size: 20px;\\n}\\n\\n\\n@media only screen and (max-width: 860px) {\\n    .main-container {\\n        flex-direction: column;\\n    }\\n    .chart {\\n        height: initial;\\n    }\\n    .setting-area {\\n        width: 100vw;\\n        margin-top: 3rem;\\n        flex-direction: row;\\n    }\\n}\",\"tx_data\":\"/*data will be e.data from websocket*/\\nwindow.userData = {\\n    tm: 0,\\n    dt: 0,\\n    sampling: []\\n};\\nfunction dataFormatEntryPoint(data) {\\n    if (data instanceof Uint8Array) {\\n        (data[0] === 0x00) ? showSYS(data):\\n        (data[0] === 0x02) ? showUserData(data):\\n        0;\\n        return;\\n    }\\n    var ii;\\n    for (i in data) {\\n        if (i == \\\"tx\\\") {\\n            ii = $(\\\"tx\\\");\\n            str = ii.value;\\n            str += '\\\\n';\\n            str += data[i];\\n            ii.value = str;\\n            ii.scrollTop = ii.scrollHeight;\\n            continue;\\n        }\\n        ii = $(i);\\n        if (ii) {\\n            ii.innerHTML = data[i];\\n        }\\n    }\\n}\\n\\nfunction showSYS(data) {\\n    len = data[1];\\n    len <<= 8;\\n    len += data[2];\\n    if (len < 4)\\n        return;\\n    lt = 0;\\n    //get lifetimr\\n    for (i = 3; i < 7; ++i) {\\n        lt <<= 8;\\n        lt += data[i];\\n    }\\n    $('LT').innerHTML = lt;\\n    window.current_LT = lt;\\n    if (len < 32)\\n        return;\\n    // get softwareserial baudrate\\n    ssbps = 0;\\n    for (i = 32; i < 36; ++i) {\\n        ssbps <<= 8;\\n        ssbps += data[i];\\n    }\\n    $('SSbps').innerHTML = ssbps;\\n\\n}\\n\\nfunction showUserData(data) {\\n    // data length == 0\\n    let l = data[1];\\n    l <<= 8;\\n    l += data[2];\\n    if (l == 0)\\n        return;\\n    //time tag\\n    let tm = data[3] << 24;\\n    tm += data[4] << 16;\\n    tm += data[5] << 8;\\n    tm += data[6];\\n    l -= 5;\\n    window.userData[\\\"tm\\\"] = tm;\\n    window.userData[\\\"dt\\\"] = data[7];\\n    $(\\\"dt\\\").innerText = `頻率:\\\\n ${Math.round(1000/data[7])} Hz`;\\n    let v = 0;\\n    let pos = 8;\\n    window.userData[\\\"sampling\\\"] = [];\\n    let data_point = Math.round(500/data[7]);\\n    for (i = 0; i < data_point; ++i) {\\n        sid = 't' + i;\\n        v = 0;\\n        if (l > 0) {\\n            v = data[pos+1];\\n            v <<= 8;\\n            v += data[pos];\\n            pos += 2;\\n        }\\n        l -= 2;\\n        window.userData[\\\"sampling\\\"].push(v);\\n    }\\n}\\n\\n// uPlot chart\\nwindow._V = [0];\\nwindow.red = [0];\\nwindow.green = [512];\\nwindow.blue = [0];\\nvar v = [0];\\nwindow.data_plot = [_V, red, green, blue];\\n\\nwindow.opts4 = {\\n    width: window.innerWidth > 1080 ? window.innerWidth / 2: 400,\\n    height: window.innerWidth > 1080 ? window.innerWidth / 2 - 200: 400,\\n    cursor: {\\n        points: {\\n            size: (u, seriesIdx) => u.series[seriesIdx].points.size * 2.5,\\n            width: (u, seriesIdx, size) => size / 4,\\n            stroke: (u, seriesIdx) =>\\n            u.series[seriesIdx].points.stroke(u, seriesIdx) + \\\"90\\\",\\n            fill: (u, seriesIdx) => \\\"#fff\\\",\\n        },\\n    },\\n    scales: {\\n        x: {\\n            time: false,\\n        },\\n        y: {\\n            range: [300,\\n                700]\\n        },\\n    },\\n    series: [{\\n        label: \\\"Time(ms)\\\"\\n    },\\n        {\\n            label: \\\"Value(ADC)\\\",\\n            stroke: \\\"#7EB26D\\\",\\n        }],\\n    bands: [{\\n        series: [0,\\n            1],\\n    },\\n    ],\\n    axes: [{\\n        stroke: \\\"#c7d0d9\\\",\\n        grid: {\\n            width: 1 / devicePixelRatio,\\n            stroke: \\\"#2c3235\\\",\\n        },\\n        ticks: {\\n            width: 1 / devicePixelRatio,\\n            stroke: \\\"#2c3235\\\",\\n        },\\n    },\\n        {\\n            stroke: \\\"#c7d0d9\\\",\\n            grid: {\\n                width: 1 / devicePixelRatio,\\n                stroke: \\\"#2c3235\\\",\\n            },\\n            ticks: {\\n                width: 1 / devicePixelRatio,\\n                stroke: \\\"#2c3235\\\",\\n            },\\n        },\\n    ],\\n};\\n\\n// 清除所有執行中的 interval\\nfunction createClearAllInterval() {\\n    const noop = () => {};\\n    let firstId = setInterval(noop, 0);\\n\\n    return () => {\\n        const lastId = setInterval(noop, 0);\\n        while (firstId !== lastId) {\\n            firstId += 1;\\n            clearInterval(firstId);\\n        }\\n    };\\n}\\n\\nvar clearAllInterval = createClearAllInterval();\\n\\nif ($(\\\"chart\\\")) $(\\\"chart\\\").innerHTML = \\\"\\\";\\nwindow.u4 = new uPlot(opts4, data_plot, $(\\\"chart\\\"));\\nwindow.chart_update = true;\\nwindow.sampling_count = 0;\\nwindow.sampling_index = 0;\\nwindow.previous_sampling = [];\\nwindow.start_chart = function() {\\n\\n    clearAllInterval();\\n    checkLT();\\n    console.log(`dt: ${window.userData[\\\"dt\\\"]}`);\\n    if (!window.userData[\\\"dt\\\"]) {\\n        alert(\\\"間隔時間不能為0\\\");\\n        return;\\n    }\\n    setInterval(async() => {\\n        const delay = (s)=> {\\n            return new Promise((resolve)=> {\\n                setTimeout(resolve, s);\\n            })}\\n        let sampling = window.userData[\\\"sampling\\\"];\\n        let data_point = Math.round(500/window.userData[\\\"dt\\\"])-1;\\n\\n        // console.log(`cur_sampling: ${JSON.stringify(sampling)}`);\\n        // console.log(`pre_sampling: ${JSON.stringify(previous_sampling)}`);\\n\\n        if (window.chart_update && sampling.length > 0) {\\n\\n            if (window.sampling_index > data_point) {\\n                window.sampling_index = 0;\\n            }\\n\\n            if (_V[window.sampling_index] === 0) {\\n                _V.shift();\\n            }\\n\\n            if (_V.length > Math.round(10000/window.userData[\\\"dt\\\"])) {\\n                _V.shift();\\n                green.shift();\\n            }\\n\\n            if (!sampling[window.sampling_index]) {\\n                sampling[window.sampling_index] = previous_sampling.filter((v)=>v).pop();\\n            }\\n            window.previous_sampling = sampling;\\n\\n            // _V.push(count * (index*window.userData[\\\"dt\\\"]));\\n            _V.push(window.sampling_count * window.userData[\\\"dt\\\"]);\\n\\n            green.push(sampling[window.sampling_index]);\\n            data_plot = [_V,\\n                green];\\n            u4.setData(data_plot);\\n            window.sampling_index++;\\n            window.sampling_count++;\\n        }\\n    },\\n        window.userData[\\\"dt\\\"]);\\n}\\n\\nwindow.current_LT = 0;\\nwindow.previous_LT = 0;\\nwindow.reconnect_flag = 0;\\n\\nwindow.checkLT = function() {\\n    setInterval(()=> {\\n        if (window.previous_LT === window.current_LT) {\\n            console.log(\\\"lost connect\\\");\\n            if (window.reconnect_flag) {\\n                window.reconnect_flag = 0;\\n                $(\\\"sample_stop\\\").click();\\n            }\\n            $(\\\"status_light\\\").classList.remove(\\\"light-green\\\");\\n        } else {\\n            window.previous_LT = window.current_LT;\\n            if (window.reconnect_flag === 0) {\\n                $(\\\"sample_start\\\").click();\\n            }\\n            window.reconnect_flag = 1;\\n            $(\\\"status_light\\\").classList.add(\\\"light-green\\\");\\n        }\\n    },\\n        3000);\\n}\\ncheckLT();\",\"tx_ui_app\":\"# 群組標題一\\ntitle: 命令改變框中內容 , val: 預設顯示內容, val_id: val_1, btn_id: btn_1\\ntitle: 僅框中內容改變 , val: 等待改變..., val_id: val_2\\n\\n# 群組標題二\\ntitle: 僅觸發按鈕事件 , val: 點擊設定 , btn_id: btn_2\",\"tx_app\":\"$(\\\"sample_start\\\").addEventListener(\\\"click\\\", ()=> {\\n    // alert(\\\"開始自動更新圖表顯示\\\");\\n    window.chart_update = true;\\n    window.start_chart();\\n});\\n\\n$(\\\"sample_stop\\\").addEventListener(\\\"click\\\", ()=> {\\n    // alert(\\\"停止更新圖表\\\");\\n    window.chart_update = false;\\n})\\n\\n$(\\\"sample_step\\\").addEventListener(\\\"click\\\", ()=> {\\n    let step = prompt(\\\"輸入採樣間隔，單位: ms, 範圍: 10-250\\\");\\n    if (step >= 10 && step <= 250) {\\n        window.spin(1);\\n        postCmd(`set dT:${step}`);\\n        setTimeout(function() {\\n            if ($(\\\"chart\\\")) $(\\\"chart\\\").innerHTML = \\\"\\\";\\n            window.green = [512];\\n            window._V = [0];\\n            window.data_plot = [_V,\\n                red,\\n                green,\\n                blue];\\n            window.u4 = new uPlot(opts4, data_plot, $(\\\"chart\\\"));\\n            window.sampling_count = 0;\\n            window.sampling_index = 0;\\n            window.previous_sampling = [];\\n            window.start_chart();\\n            window.spin(0);\\n        },\\n            2000);\\n    }\\n})\",\"option_title\":\"地震儀震波圖 - P型波\",\"option_home_color\":\"#eceffe\",\"option_home_background\":\"#1c1c1c\",\"option_version\":\"0.0.9-demo\",\"options_flag\":{\"title\":true,\"footer\":true,\"systemStatus\":false,\"config\":false,\"schedule\":false,\"custom\":false,\"network\":false,\"system\":true,\"terminal\":true},\"libs\":{\"uPlot\":{\"2_uPlot.js\":\"null!=w&&e._size!=w&&(r=!1)}}else e._show&&(r=!1,e._show=!1,Ie(!1))}})),r}function Ne(n){var r=!0;return Me.forEach(((e,t)=>{var l=e(a,t,_e,n);l!=Se[t]&&(r=!1),Se[t]=l})),r}function Ie(n){Mn.forEach(((r,e)=>{e>0&&(r._paths=null,n&&(r.min=null,r.max=null))}))}a.setData=Ae;var Le,Ve,Oe,je,Ge,Be,Re,Ue,Je,qe,Ze,Xe,Ke=!1;function Qe(){Ke||(B($e),Ke=!0)}function $e(){qr&&(function(){var r=O(zn);for(var t in r){var l=r[t],i=jn[t];if(null!=i&&null!=i.min)j(l,i),t==Dn&&Ie(!0);else if(t!=Dn)if(0==ye&&null==l.from){var o=l.range(a,null,null,t);l.min=o[0],l.max=o[1]}else l.min=S,l.max=-S}if(ye>0)for(var s in Mn.forEach(((t,l)=>{var i=t.scale,o=r[i],s=jn[i];if(0==l){var u=o.range(a,o.min,o.max,i);o.min=u[0],o.max=u[1],ze=n(o.min,e[0]),Te=n(o.max,e[0]),o.min>e[0][ze]&&ze++,e[0][Te]>o.max&&Te--,t.min=Ee[ze],t.max=Ee[Te]}else if(t.show&&t.auto&&o.auto(a,Pe)&&(null==s||null==s.min)){var f=null==t.min?3==o.distr?function(n,r,e){for(var t=S,l=-S,i=r;e>=i;i++)n[i]>0&&(t=w(t,n[i]),l=x(l,n[i]));return[t==S?1:t,l==-S?10:l]}(e[l],ze,Te):function(n,r,e,t){var l=S,i=-S;if(1==t)l=n[r],i=n[e];else if(-1==t)l=n[e],i=n[r];else for(var a=r;e>=a;a++)null!=n[a]&&(l=w(l,n[a]),i=x(i,n[a]));return[l,i]}(e[l],ze,Te,t.sorted):[t.min,t.max];o.min=w(o.min,t.min=f[0]),o.max=x(o.max,t.max=f[1])}t.idxs[0]=ze,t.idxs[1]=Te})),r){var u=r[s],f=jn[s];if(null==u.from&&(null==f||null==f.min)){var c=u.range(a,u.min==S?null:u.min,u.max==-S?null:u.max,s);u.min=c[0],u.max=c[1]}}for(var v in r){var h=r[v];if(null!=h.from){var d=r[h.from],m=h.range(a,d.min,d.max,v);h.min=m[0],h.max=m[1]}}var p={},g=!1;for(var b in r){var _=r[b],y=zn[b];if(y.min!=_.min||y.max!=_.max){y.min=_.min,y.max=_.max;var z=y.distr;y._min=3==z?k(y.min):4==z?M(y.min,y.asinh):y.min,y._max=3==z?k(y.max):4==z?M(y.max,y.asinh):y.max,p[b]=g=!0}}if(g){for(var T in Mn.forEach((n=>{p[n.scale]&&(n._paths=null)})),p)Qr=!0,Wt(\\\"setScale\\\",T);te.show&&($r=!0)}for(var D in jn)jn[D]=null}(),qr=!1),Qr&&(function(){for(var n=!1,r=0;!n;){var e=Fe(++r),t=Ne(r);(n=e&&t)||(ee(a.width,a.height),Kr=!0)}}(),Qr=!1),Kr&&(mn(K,Z,Vr),mn(K,J,Or),mn(K,R,Nr),mn(K,U,Lr),mn(xn,Z,Vr),mn(xn,J,Or),mn(xn,R,Nr),mn(xn,U,Lr),mn(G,R,zr),mn(G,U,Tr),H.width=p(zr*vn),H.height=p(Tr*vn),kt(),Wt(\\\"setSize\\\"),Kr=!1),te.show&&$r&&(bt(),$r=!1),zr>0&&Tr>0&&(F.clearRect(0,0,H.width,H.height),Wt(\\\"drawClear\\\"),An.forEach((n=>n())),Wt(\\\"draw\\\")),y||(y=!0,a.status=1,Wt(\\\"ready\\\")),Pe=!1,Ke=!1}function nt(r,t){var l=zn[r];if(null==l.from){if(0==ye){var i=l.range(a,t.min,t.max,r);t.min=i[0],t.max=i[1]}if(t.min>t.max){var o=t.min;t.min=t.max,t.max=o}if(ye>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;r==Dn&&2==l.distr&&ye>0&&(t.min=n(t.min,e[0]),t.max=n(t.max,e[0])),jn[r]=t,qr=!0,Qe()}}a.redraw=(n,r)=>{Qr=r||!1,!1!==n?ct(Dn,Vn.min,Vn.max):Qe()},a.setScale=nt;var rt=!1,et=te.drag,tt=et.x,lt=et.y;te.show&&(te.x&&(Le=gn(\\\"u-cursor-x\\\",xn)),te.y&&(Ve=gn(\\\"u-cursor-y\\\",xn)),0==Vn.ori?(Oe=Le,je=Ve):(Oe=Ve,je=Le),Ze=te.left,Xe=te.top);var it,at,ot,st=a.select=j({show:!0,over:!0,left:0,width:0,top:0,height:0},r.select),ut=st.show?gn(\\\"u-select\\\",st.over?xn:K):null;function ft(n,r){if(st.show){for(var e in n)mn(ut,e,st[e]=n[e]);!1!==r&&Wt(\\\"setSelect\\\")}}function ct(n,r,e){nt(n,{min:r,max:e})}function vt(n,r,e){var t=Mn[n];null!=r.focus&&function(n){if(n!=ot){var r=null==n;Mn.forEach(((e,t)=>{var l=r||0==t||t==n;e._focus=r?null:l,function(n,r){!function(n,r){Mn[n].alpha=r,te.show&&xe[n]&&(xe[n].style.opacity=r),fr&&vr[n]&&(vr[n][0].parentNode.style.opacity=r)}(n,r)}(t,l?1:ge.alpha)})),ot=n,Qe()}}(n),null!=r.show&&(t.show=r.show,function(n){var r=fr?vr[n][0].parentNode:null;Mn[n].show?r&&dn(r,sn):(r&&hn(r,sn),xe.length>1&&wn(xe[n],-10,-10,Nr,Lr))}(n),ct(t.scale,null,null),Qe()),Wt(\\\"setSeries\\\",n,r),e&&Ct.pub(\\\"setSeries\\\",a,n,r)}a.setSelect=ft,a.setSeries=vt;var ht={focus:!0},dt={focus:!1};function mt(n,r){var e=zn[r],t=Nr;1==e.ori&&(n=(t=Lr)-n),-1==e.dir&&(n=t-n);var l=e._min,i=l+n/t*(e._max-l),a=e.distr;return 3==a?b(10,i):4==a?((n,r)=>(void 0===r&&(r=1),v.sinh(n/r)))(i,e.asinh):i}function pt(n,r){mn(ut,Z,st.left=n),mn(ut,R,st.width=r)}function gt(n,r){mn(ut,J,st.top=n),mn(ut,U,st.height=r)}fr&&we&&bn(tn,Rn,(()=>{te._lock||(vt(null,dt,Yt.setSeries),bt())})),a.valToIdx=r=>n(r,e[0]),a.posToIdx=function(r){return n(mt(r,Dn),e[0],ze,Te)},a.posToVal=mt,a.valToPos=(n,r,e)=>0==zn[r].ori?f(n,zn[r],e?Ur:Nr,e?jr:0):c(n,zn[r],e?Jr:Lr,e?Rr:0),a.batch=function(n){n(a),Qe()},a.setCursor=n=>{Ze=n.left,Xe=n.top,bt()};var wt=0==Vn.ori?pt:gt,xt=1==Vn.ori?pt:gt;function bt(r,t){var l,i;Je=Ze,qe=Xe,l=te.move(a,Ze,Xe),Ze=l[0],Xe=l[1],te.show&&(Oe&&wn(Oe,p(Ze),0,Nr,Lr),je&&wn(je,0,p(Xe),Nr,Lr)),it=S;var o=0==Vn.ori?Nr:Lr,s=1==Vn.ori?Nr:Lr;if(0>Ze||0==ye||ze>Te){i=null;for(var u=0;Mn.length>u;u++)if(u>0&&xe.length>1&&wn(xe[u],-10,-10,Nr,Lr),fr&&ir.live){if(0==u&&dr)continue;for(var f=0;vr[u].length>f;f++)vr[u][f].firstChild.nodeValue=\\\"--\\\"}we&&vt(null,ht,Yt.setSeries)}else{var c=mt(0==Vn.ori?Ze:Xe,Dn);i=n(c,e[0],ze,Te);for(var v=A(Cn(e[0][i],Vn,o,0),.5),h=0;Mn.length>h;h++){var m=Mn[h],g=te.dataIdx(a,h,i,c),x=g==i?v:A(Cn(e[0][g],Vn,o,0),.5);if(h>0&&m.show){var b=e[h][g],_=null==b?-10:A(Hn(b,zn[m.scale],s,0),.5);if(_>0){var k=d(_-Xe);k>it||(it=k,at=h)}var M=void 0,z=void 0;0==Vn.ori?(M=x,z=_):(M=_,z=x),xe.length>1&&wn(xe[h],M,z,Nr,Lr)}if(fr&&ir.live){if(g==te.idx&&!ne||0==h&&dr)continue;var T=0==h&&2==On?Ee:e[h],D=dr?m.values(a,h,g):{_:m.value(a,T[g],h,g)},E=0;for(var P in D)vr[h][E++].firstChild.nodeValue=D[P]}}ne=!1}if(st.show&&rt)if(null!=t){var W=Yt.scales,Y=W[0],C=W[1],H=t.cursor.drag;tt=H._x,lt=H._y;var F,N,I,L,V,O=t.select,j=O.left,G=O.top,B=O.width,R=O.height,U=t.scales[Y].ori,J=t.posToVal;Y&&(0==U?(F=j,N=B):(F=G,N=R),I=zn[Y],L=Cn(J(F,Y),I,o,0),V=Cn(J(F+N,Y),I,o,0),wt(w(L,V),d(V-L)),C||xt(0,s)),C&&(1==U?(F=j,N=B):(F=G,N=R),I=zn[C],L=Hn(J(F,C),I,s,0),V=Hn(J(F+N,C),I,s,0),xt(w(L,V),d(V-L)),Y||wt(0,o))}else{var q=d(Je-Ge),Z=d(qe-Be);if(1==Vn.ori){var X=q;q=Z,Z=X}tt=et.x&&q>=et.dist,lt=et.y&&Z>=et.dist;var K,Q,nn=et.uni;null!=nn?tt&&lt&&(lt=Z>=nn,(tt=q>=nn)||lt||(Z>q?lt=!0:tt=!0)):et.x&&et.y&&(tt||lt)&&(tt=lt=!0),tt&&(0==Vn.ori?(K=Re,Q=Ze):(K=Ue,Q=Xe),wt(w(K,Q),d(Q-K)),lt||xt(0,s)),lt&&(1==Vn.ori?(K=Re,Q=Ze):(K=Ue,Q=Xe),xt(w(K,Q),d(Q-K)),tt||wt(0,o)),tt||lt||(wt(0,0),xt(0,0))}if(te.idx=i,te.left=Ze,te.top=Xe,et._x=tt,et._y=lt,null!=r&&(Ct.pub($,a,Ze,Xe,o,s,i),we)){var rn=Yt.setSeries,en=ge.prox;null==ot?it>en||vt(at,ht,rn):it>en?vt(null,ht,rn):at!=ot&&vt(at,ht,rn)}y&&Wt(\\\"setCursor\\\")}var _t=null;function kt(){_t=xn.getBoundingClientRect()}function yt(n,r,e,t,l,i){te._lock||(Mt(n,r,e,t,l,i,0,!1,null!=n),null!=n?bt(1):bt(null,r))}function Mt(n,r,e,t,l,i,o,s,u){var f;if(null!=n)e=n.clientX-_t.left,t=n.clientY-_t.top;else{if(0>e||0>t)return Ze=-10,void(Xe=-10);var c=Nr,v=Lr,h=l,d=i,m=e,p=t;1==Vn.ori&&(c=Lr,v=Nr);var g=Yt.scales,w=g[0],x=g[1];if(1==r.scales[w].ori&&(h=i,d=l,m=t,p=e),e=null!=w?_(r.posToVal(m,w),zn[w],c,0):c*(m/h),t=null!=x?_(r.posToVal(p,x),zn[x],v,0):v*(p/d),1==Vn.ori){var b=e;e=t,t=b}}u&&(e>1&&Nr-1>e||(e=z(e,Nr)),t>1&&Lr-1>t||(t=z(t,Lr))),s?(Ge=e,Be=t,f=te.move(a,e,t),Re=f[0],Ue=f[1]):(Ze=e,Xe=t)}function St(){ft({width:0,height:0},!1)}function zt(n,r,e,t,l,i){rt=!0,tt=lt=et._x=et._y=!1,Mt(n,r,e,t,l,i,0,!0,!1),null!=n&&(Sr(rn,fn,Tt),Ct.pub(nn,a,Re,Ue,Nr,Lr,null))}function Tt(n,r,e,t,l,i){rt=et._x=et._y=!1,Mt(n,r,e,t,l,i,0,!1,!0);var o=st.left,s=st.top,u=st.width,f=st.height,c=u>0||f>0;if(c&&ft(st),et.setScale&&c){var v=o,h=u,d=s,m=f;if(1==Vn.ori&&(v=s,h=f,d=o,m=u),tt&&ct(Dn,mt(v,Dn),mt(v+h,Dn)),lt)for(var p in zn){var g=zn[p];p!=Dn&&null==g.from&&g.min!=S&&ct(p,mt(d+m,p),mt(d,p))}St()}else te.lock&&(te._lock=!te._lock,te._lock||bt());null!=n&&(function(n,r){var e=Mr.get(r)||{};_n(n,r,e[n]),e[n]=null}(rn,fn),Ct.pub(rn,a,Ze,Xe,Nr,Lr,null))}function Dt(n){We(),St(),null!=n&&Ct.pub(ln,a,Ze,Xe,Nr,Lr,null)}var Et,Pt={};Pt.mousedown=zt,Pt.mousemove=yt,Pt.mouseup=Tt,Pt.dblclick=Dt,Pt.setSeries=(n,r,e,t)=>{vt(e,t)},te.show&&(Sr(nn,xn,zt),Sr($,xn,yt),Sr(en,xn,kt),Sr(tn,xn,(function(){if(!te._lock){var n=rt;if(rt){var r,e,t=!0,l=!0;0==Vn.ori?(r=tt,e=lt):(r=lt,e=tt),r&&e&&(t=10>=Ze||Ze>=Nr-10,l=10>=Xe||Xe>=Lr-10),r&&t&&(Ze=Re>Ze?0:Nr),e&&l&&(Xe=Ue>Xe?0:Lr),bt(1),rt=!1}Ze=-10,Xe=-10,bt(1),n&&(rt=n)}})),Sr(ln,xn,Dt),Et=function(n){var r=null;function e(){r=null,n()}return function(){clearTimeout(r),r=setTimeout(e,100)}}(kt),bn(an,cn,Et),bn(on,cn,Et),a.syncRect=kt);var At=a.hooks=r.hooks||{};function Wt(n,r,e){n in At&&At[n].forEach((n=>{n.call(null,a,r,e)}))}(r.plugins||[]).forEach((n=>{for(var r in n.hooks)At[r]=(At[r]||[]).concat(n.hooks[r])}));var Yt=j({key:null,setSeries:!1,scales:[Dn,null]},te.sync),Ct=Ir(Yt.key);function Ht(){Wt(\\\"init\\\",r,e),Ae(e||r.data,!1),jn[Dn]?nt(Dn,jn[Dn]):We(),re(r.width,r.height),ft(st,!1)}return Ct.sub(a),a.pub=function(n,r,e,t,l,i,a){Pt[n](null,r,e,t,l,i,a)},a.destroy=function(){Ct.unsub(a),_n(an,cn,Et),_n(on,cn,Et),W.remove(),Wt(\\\"destroy\\\")},t?t instanceof HTMLElement?(t.appendChild(W),Ht()):t(a,Ht):Ht(),a}pe.assign=j,pe.fmtNum=c,pe.rangeNum=s,pe.rangeLog=l,pe.rangeAsinh=i,pe.orient=Lr,pe.join=function(n,r){for(var e=new Set,t=0;n.length>t;t++)for(var l=n[t][0],i=l.length,a=0;i>a;a++)e.add(l[a]);for(var o=[Array.from(e).sort(((n,r)=>n-r))],s=o[0].length,u=new Map,f=0;s>f;f++)u.set(o[0][f],f);for(var c=0;n.length>c;c++)for(var v=n[c],h=v[0],d=1;v.length>d;d++){for(var m=v[d],p=Array(s).fill(void 0),g=r?r[c][d]:1,w=[],x=0;m.length>x;x++){var b=m[x],_=u.get(h[x]);null==b?0!=g&&(p[_]=b,2==g&&w.push(_)):p[_]=b}G(p,w,s),o.push(p)}return o},pe.fmtDate=Pn,pe.tzDate=function(n,r){var e;return\\\"Etc/UTC\\\"==r?e=new Date(+n+6e4*n.getTimezoneOffset()):r==An?e=n:(e=new Date(n.toLocaleString(\\\"en-US\\\",{timeZone:r}))).setMilliseconds(n.getMilliseconds()),e},pe.sync=Ir,pe.addGap=jr,pe.clipGaps=Or;var ge=pe.paths={};return ge.linear=ee,ge.spline=function(){return(n,e,t,l)=>Lr(n,e,((i,a,o,s,u,f,c,v,h,d,m)=>{var g,w,x;0==s.ori?(g=Gr,x=Rr,w=Kr):(g=Br,x=Ur,w=Qr);var b=1*s.dir*(0==s.ori?1:-1);t=r(o,t,l,1),l=r(o,t,l,-1);for(var _=[],k=!1,y=p(f(a[1==b?t:l],s,d,v)),M=y,S=[],z=[],T=1==b?t:l;T>=t&&l>=T;T+=b){var D=o[T],E=f(a[T],s,d,v);null!=D?(k&&(jr(_,M,E),k=!1),S.push(M=E),z.push(c(o[T],u,m,h))):null===D&&(jr(_,M,E),k=!0)}var P={stroke:te(S,z,.5,g,w),fill:null,clip:null,band:null},A=P.stroke;if(null!=i.fill){var W=P.fill=new Path2D(A),Y=i.fillTo(n,e,i.min,i.max),C=p(c(Y,u,m,h));x(W,M,C),x(W,y,C)}return i.spanGaps||(P.clip=Or(_,s.ori,v,h,d,m)),n.bands.length>0&&(P.band=Vr(n,e,t,l,A)),P}))},ge.stepped=function(n){var e=u(n.align,1);return(n,t,l,i)=>Lr(n,t,((a,o,s,u,f,c,v,h,d,m,g)=>{var w=0==u.ori?Rr:Ur,x={stroke:new Path2D,fill:null,clip:null,band:null},b=x.stroke,_=1*u.dir*(0==u.ori?1:-1);l=r(s,l,i,1),i=r(s,l,i,-1);var k=[],y=!1,M=p(v(s[1==_?l:i],f,g,d)),S=p(c(o[1==_?l:i],u,m,h)),z=S;w(b,S,M);for(var T=1==_?l:i;T>=l&&i>=T;T+=_){var D=s[T],E=p(c(o[T],u,m,h));if(null!=D){var P=p(v(D,f,g,d));if(y){if(jr(k,z,E),M!=P){var A=a.width*vn/2,W=k[k.length-1];W[0]+=A,W[1]-=A}y=!1}1==e?w(b,E,M):w(b,z,P),w(b,E,P),M=P,z=E}else null===D&&(jr(k,z,E),y=!0)}if(null!=a.fill){var Y=x.fill=new Path2D(b),C=a.fillTo(n,t,a.min,a.max),H=p(v(C,f,g,d));w(Y,z,H),w(Y,S,H)}return a.spanGaps||(x.clip=Or(k,u.ori,h,d,m,g)),n.bands.length>0&&(x.band=Vr(n,t,l,i,b)),x}))},ge.bars=function(n){var e=u((n=n||N).size,[.6,S]),t=n.align||0,l=1-e[0],i=u(e[1],S)*vn;return(n,e,a,o)=>Lr(n,e,((s,u,f,c,v,h,d,m,g,b,_)=>{var k,y=0==c.ori?Jr:qr,M=h(u[1],c,b,m)-h(u[0],c,b,m),S=M*l,T=d(s.fillTo(n,e,s.min,s.max),v,_,g),D=p(s.width*vn),E=p(w(i,M-S)-D),P=1==t?0:-1==t?E:E/2,A={stroke:new Path2D,fill:null,clip:null,band:null},W=n.bands.length>0;W&&(A.band=new Path2D,k=z(d(v.max,v,_,g),.5));for(var Y=A.stroke,C=A.band,H=c.dir*(0==c.ori?1:-1),F=1==H?a:o;F>=a&&o>=F;F+=H){var N=f[F];if(null==N){if(!W)continue;var I=r(f,1==H?a:o,F,-H),L=r(f,F,1==H?o:a,H),V=f[I];N=V+(F-I)/(L-I)*(f[L]-V)}var O=h(2==c.distr?F:u[F],c,b,m),j=d(N,v,_,g),G=p(O-P),B=p(x(j,T)),R=p(w(j,T)),U=B-R;null!=f[F]&&y(Y,G,R,E,U),W&&(B=R,y(C,G,R=k,E,U=B-R))}return null!=s.fill&&(A.fill=new Path2D(Y)),A}))},pe}();\\n\",\"1_uPlot.js\":\",i.min,i.max),u,m,h));g(O,N,j),g(O,F,j)}return i.spanGaps||(T.clip=Or(A,s.ori,v,h,d,m)),n.bands.length>0&&(T.band=Vr(n,e,t,l,D)),T}))}function te(n,r,e,t,l){var i,a,o,s,u,f,c,v,h,d,m,g,w,x,k,y,M,S,z,T,D,E,P,A,W,Y=new Path2D,C=n.length;t(Y,p(n[0]),p(r[0]));for(var H=0;C-1>H;H++){var F=0==H?0:H-1;a=r[F],s=r[H],u=n[H+1],f=r[H+1],C>H+2?(c=n[H+2],v=r[H+2]):(c=u,v=f),w=_(b((i=n[F])-(o=n[H]),2)+b(a-s,2)),x=_(b(o-u,2)+b(s-f,2)),k=_(b(u-c,2)+b(f-v,2)),T=b(k,e),E=b(k,2*e),D=b(x,e),P=b(x,2*e),(S=3*(W=b(w,e))*(W+D))>0&&(S=1/S),(z=3*T*(T+D))>0&&(z=1/z),d=(-P*a+(y=2*(A=b(w,2*e))+3*W*D+P)*s+A*f)*S,g=(E*s+(M=2*E+3*T*D+P)*f-P*v)*z,0==(h=(-P*i+y*o+A*u)*S)&&0==d&&(h=o,d=s),0==(m=(E*o+M*u-P*c)*z)&&0==g&&(m=u,g=f),l(Y,h,d,m,g,u,f)}return Y}var le=ee();function ie(n,r,e,t){return(t?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map(((n,t)=>ae(n,t,r,e)))}function ae(n,r,e,t){return j({},0==r?e:t,n)}var oe=[null,null];function se(n,r,e){return null==r?oe:[r,e]}var ue=se;function fe(n,r,e){return null==r?oe:s(r,e,.1,!0)}function ce(n,r,e,t){return null==r?oe:l(r,e,n.scales[t].log,!1)}var ve=ce;function he(n,r,e,t){return null==r?oe:i(r,e,n.scales[t].log,!1)}var de=he;function me(n){var r;return[n=n.replace(/(\\\\d+)px/,((n,e)=>(r=p(e*vn))+\\\"px\\\")),r]}function pe(r,e,t){var a={};function o(n,r){return((3==r.distr?k(n>0?n:r.clamp(a,n,r.min,r.max,r.key)):4==r.distr?M(n,r.asinh):n)-r._min)/(r._max-r._min)}function f(n,r,e,t){var l=o(n,r);return t+e*(-1==r.dir?1-l:l)}function c(n,r,e,t){var l=o(n,r);return t+e*(-1==r.dir?l:1-l)}function _(n,r,e,t){return 0==r.ori?f(n,r,e,t):c(n,r,e,t)}a.valToPosH=f,a.valToPosV=c;var y=!1;a.status=0;var W=a.root=gn(\\\"uplot\\\");null!=r.id&&(W.id=r.id),hn(W,r.class),r.title&&(gn(\\\"u-title\\\",W).textContent=r.title);var H=pn(\\\"canvas\\\"),F=a.ctx=H.getContext(\\\"2d\\\"),G=gn(\\\"u-wrap\\\",W),K=gn(\\\"u-under\\\",G);G.appendChild(H);var xn=gn(\\\"u-over\\\",G),kn=u((r=O(r)).pxAlign,!0);(r.plugins||[]).forEach((n=>{n.opts&&(r=n.opts(a,r)||r)}));var yn=r.ms||.001,Mn=a.series=ie(r.series||[],xr,Yr,!1),Sn=a.axes=ie(r.axes||[],wr,Pr,!0),zn=a.scales={},Tn=a.bands=r.bands||[];Tn.forEach((n=>{n.fill=D(n.fill||null)}));var Dn=Mn[0].scale,En={axes:function(){Sn.forEach(((n,r)=>{if(n.show&&n._show){var e=zn[n.scale],t=n.side,l=t%2,i=0==l?Ur:Jr,o=0==l?jr:Rr,s=p(n.gap*vn),u=n.ticks,f=u.show?p(u.size*vn):0,c=n._found,v=c[0],d=c[1],m=n._splits,g=2==e.distr?m.map((n=>Ee[n])):m,w=2==e.distr?Ee[m[1]]-Ee[m[0]]:v,x=n._rotate*-h/180,b=p(n._pos*vn),k=b+(f+s)*(0==l&&0==t||1==l&&3==t?-1:1),y=0==l?k:0,M=1==l?k:0;F.font=n.font[0],F.fillStyle=n.stroke(a,r),F.textAlign=1==n.align?Z:2==n.align?X:x>0?Z:0>x?X:0==l?\\\"center\\\":3==t?X:Z,F.textBaseline=x||1==l?\\\"middle\\\":2==t?J:q;var S=1.5*n.font[1],z=m.map((n=>p(_(n,e,i,o))));if(n._values.forEach(((n,r)=>{null!=n&&(0==l?M=z[r]:y=z[r],(\\\"\\\"+n).split(/\\\\n/gm).forEach(((n,r)=>{x?(F.save(),F.translate(M,y+r*S),F.rotate(x),F.fillText(n,0,0),F.restore()):F.fillText(n,M,y+r*S)})))})),n.label){F.save();var T=p(n._lpos*vn);1==l?(M=y=0,F.translate(T,p(Rr+Jr/2)),F.rotate((3==t?-h:h)/2)):(M=p(jr+Ur/2),y=T),F.font=n.labelFont[0],F.textAlign=\\\"center\\\",F.textBaseline=2==t?J:q,F.fillText(n.label,M,y),F.restore()}u.show&&He(z,u.filter(a,g,r,d,w),l,t,b,f,Y(u.width*vn,3),u.stroke(a,r),u.dash,u.cap);var D=n.grid;D.show&&He(z,D.filter(a,g,r,d,w),l,0==l?2:1,0==l?Rr:jr,0==l?Jr:Ur,Y(D.width*vn,3),D.stroke(a,r),D.dash,D.cap)}})),Wt(\\\"drawAxes\\\")},series:function(){ye>0&&(Mn.forEach(((n,r)=>{if(r>0&&n.show&&null==n._paths){var t=function(n){for(var r=T(ze-1,0,ye-1),e=T(Te+1,0,ye-1);null==n[r]&&r>0;)r--;for(;null==n[e]&&ye-1>e;)e++;return[r,e]}(e[r]);n._paths=n.paths(a,r,t[0],t[1])}})),Mn.forEach(((n,r)=>{r>0&&n.show&&(n._paths&&function(n){var r=Mn[n],e=r._paths,t=e.stroke,l=e.fill,i=e.clip,o=Y(r.width*vn,3),s=o%2/2,u=r._stroke=r.stroke(a,n),f=r._fill=r.fill(a,n);F.globalAlpha=r.alpha;var c=kn&&r.pxAlign;c&&F.translate(s,s),F.save();var v=jr,h=Rr,d=Ur,m=Jr,p=o*vn/2;0==r.min&&(m+=p),0==r.max&&(h-=p,m+=p),F.beginPath(),F.rect(v,h,d,m),F.clip(),i&&F.clip(i),function(n,r,e,t,l,i,o,s){var u=!1;Tn.forEach(((f,c)=>{if(f.series[0]==n){var v=Mn[f.series[1]],h=(v._paths||N).band;F.save();var d=null;v.show&&h&&(d=f.fill(a,c)||i,F.clip(h)),Ce(r,e,t,l,d,o,s),F.restore(),u=!0}})),u||Ce(r,e,t,l,i,o,s)}(n,u,o,r.dash,r.cap,f,t,l),F.restore(),c&&F.translate(-s,-s),F.globalAlpha=1}(r),n.points.show(a,r,ze,Te)&&function(n){var r=Mn[n],t=r.points,l=Y(t.width*vn,3),i=l%2/2,o=t.width>0,s=(t.size-t.width)/2*vn,u=Y(2*s,3),f=kn&&r.pxAlign;f&&F.translate(i,i),F.save(),F.beginPath(),F.rect(jr-u,Rr-u,Ur+2*u,Jr+2*u),F.clip(),F.globalAlpha=r.alpha;var c,v,d,m,g=new Path2D,w=zn[r.scale];0==Vn.ori?(c=Ur,v=jr,d=Jr,m=Rr):(c=Jr,v=Rr,d=Ur,m=jr);for(var x=ze;Te>=x;x++)if(null!=e[n][x]){var b=p(Cn(e[0][x],Vn,c,v)),_=p(Hn(e[n][x],w,d,m));In(g,b+s,_),Ln(g,b,_,s,0,2*h)}var k=t._stroke=t.stroke(a,n),y=t._fill=t.fill(a,n);Ye(k,l,t.dash,t.cap,y||(o?\\\"#fff\\\":r._stroke)),F.fill(g),o&&F.stroke(g),F.globalAlpha=1,F.restore(),f&&F.translate(-i,-i)}(r),Wt(\\\"drawSeries\\\",r))})))}},An=(r.drawOrder||[\\\"axes\\\",\\\"series\\\"]).map((n=>En[n]));function Wn(n){var e=zn[n];if(null==e){var t=(r.scales||N)[n]||N;if(null!=t.from)Wn(t.from),zn[n]=j({},zn[t.from],t);else{(e=zn[n]=j({},n==Dn?Hr:Fr,t)).key=n;var l=e.time,i=e.range;if(n!=Dn&&!I(i)&&V(i)){var a=i;i=(n,r,e)=>null==r?oe:s(r,e,a)}e.range=D(i||(l?ue:n==Dn?3==e.distr?ve:4==e.distr?de:se:3==e.distr?ce:4==e.distr?he:fe)),e.auto=D(e.auto),e.clamp=D(e.clamp||Cr),e._min=e._max=null}}}for(var Yn in Wn(\\\"x\\\"),Wn(\\\"y\\\"),Mn.forEach((n=>{Wn(n.scale)})),Sn.forEach((n=>{Wn(n.scale)})),r.scales)Wn(Yn);var Cn,Hn,In,Ln,Vn=zn[Dn],On=Vn.distr;0==Vn.ori?(hn(W,\\\"u-hz\\\"),Cn=f,Hn=c,In=Gr,Ln=Zr):(hn(W,\\\"u-vt\\\"),Cn=c,Hn=f,In=Br,Ln=Xr);var jn={};for(var Gn in zn){var Bn=zn[Gn];null==Bn.min&&null==Bn.max||(jn[Gn]={min:Bn.min,max:Bn.max},Bn.min=Bn.max=null)}var Rn,Un=r.tzDate||(n=>new Date(n/yn)),Jn=r.fmtDate||Pn,qn=1==yn?Qn(Un):er(Un),Zn=lr(Un,tr(1==yn?Kn:rr,Jn)),$n=or(Un,ar(\\\"{YYYY}-{MM}-{DD} {h}:{mm}{aa}\\\",Jn)),ir=j({show:!0,live:!0},r.legend),fr=ir.show;ir.width=D(u(ir.width,2)),ir.dash=D(ir.dash||\\\"solid\\\"),ir.stroke=D(ir.stroke||sr),ir.fill=D(ir.fill||ur);var cr,vr=[],dr=!1;if(fr){Rn=pn(\\\"table\\\",\\\"u-legend\\\",W);var mr=Mn[1]?Mn[1].values:null;if(dr=null!=mr){var pr=pn(\\\"tr\\\",\\\"u-thead\\\",Rn);for(var gr in pn(\\\"th\\\",null,pr),cr=mr(a,1,0))pn(\\\"th\\\",un,pr).textContent=gr}else cr={_:0},hn(Rn,\\\"u-inline\\\"),ir.live&&hn(Rn,\\\"u-live\\\")}var Mr=new Map;function Sr(n,r,e){var t=Mr.get(r)||{},l=te.bind[n](a,r,e);l&&(bn(n,r,t[n]=l),Mr.set(r,t))}var zr=0,Tr=0,Nr=0,Lr=0,Vr=0,Or=0,jr=0,Rr=0,Ur=0,Jr=0;a.bbox={};var qr=!1,Kr=!1,Qr=!1,$r=!1,ne=!1;function re(n,r){n==a.width&&r==a.height||ee(n,r),Ie(!1),Qr=!0,Kr=!0,$r=!0,ne=!0,Qe()}function ee(n,r){a.width=zr=Nr=n,a.height=Tr=Lr=r,Vr=Or=0,function(){var n=!1,r=!1,e=!1,t=!1;Sn.forEach((l=>{if(l.show&&l._show){var i=l.side,a=i%2,o=l._size+(l.labelSize=null!=l.label?l.labelSize||30:0);o>0&&(a?(Nr-=o,3==i?(Vr+=o,t=!0):e=!0):(Lr-=o,0==i?(Or+=o,n=!0):r=!0))}})),_e[0]=n,_e[1]=e,_e[2]=r,_e[3]=t,Nr-=Se[1]+Se[3],Vr+=Se[3],Lr-=Se[2]+Se[0],Or+=Se[0]}(),function(){var n=Vr+Nr,r=Or+Lr,e=Vr,t=Or;function l(l,i){switch(l){case 1:return(n+=i)-i;case 2:return(r+=i)-i;case 3:return(e-=i)+i;case 0:return(t-=i)+i}}Sn.forEach((n=>{if(n.show&&n._show){var r=n.side;n._pos=l(r,n._size),null!=n.label&&(n._lpos=l(r,n.labelSize))}}))}();var e=a.bbox;jr=e.left=z(Vr*vn,.5),Rr=e.top=z(Or*vn,.5),Ur=e.width=z(Nr*vn,.5),Jr=e.height=z(Lr*vn,.5)}a.setSize=function(n){re(n.width,n.height)};var te=a.cursor=j({},hr,r.cursor);te._lock=!1;var pe=te.points;pe.show=D(pe.show),pe.size=D(pe.size),pe.stroke=D(pe.stroke),pe.width=D(pe.width),pe.fill=D(pe.fill);var ge=a.focus=j({},r.focus||{alpha:.3},te.focus),we=ge.prox>=0,xe=[null];function be(n,r){var e=zn[n.scale].time,t=n.value;if(n.value=e?L(t)?or(Un,ar(t,Jn)):t||$n:t||Er,n.label=n.label||(e?\\\"Time\\\":\\\"Value\\\"),r>0){n.width=null==n.width?1:n.width,n.paths=n.paths||le||P,n.fillTo=D(n.fillTo||Wr),n.pxAlign=u(n.pxAlign,!0),n.stroke=D(n.stroke||null),n.fill=D(n.fill||null),n._stroke=n._fill=n._paths=n._focus=null;var l=Ar(n.width,1),i=n.points=j({},{size:l,width:x(1,.2*l),stroke:n.stroke,space:2*l,_stroke:null,_fill:null},n.points);i.show=D(i.show),i.fill=D(i.fill),i.stroke=D(i.stroke)}if(fr&&vr.splice(r,0,function(n,r){if(0==r&&(dr||!ir.live))return null;var e=[],t=pn(\\\"tr\\\",\\\"u-series\\\",Rn,Rn.childNodes[r]);hn(t,n.class),n.show||hn(t,sn);var l=pn(\\\"th\\\",null,t),i=gn(\\\"u-marker\\\",l);if(r>0){var o=ir.width(a,r);o&&(i.style.border=o+\\\"px \\\"+ir.dash(a,r)+\\\" \\\"+ir.stroke(a,r)),i.style.background=ir.fill(a,r)}var s=gn(un,l);for(var u in s.textContent=n.label,r>0&&(Sr(\\\"click\\\",l,(()=>{te._lock||vt(Mn.indexOf(n),{show:!n.show},Yt.setSeries)})),we&&Sr(en,l,(()=>{te._lock||vt(Mn.indexOf(n),ht,Yt.setSeries)}))),cr){var f=pn(\\\"td\\\",\\\"u-value\\\",t);f.textContent=\\\"--\\\",e.push(f)}return e}(n,r)),te.show){var o=function(n,r){if(r>0){var e=te.points.show(a,r);if(e)return hn(e,\\\"u-cursor-pt\\\"),hn(e,n.class),wn(e,-10,-10,Nr,Lr),xn.insertBefore(e,xe[r]),e}}(n,r);o&&xe.splice(r,0,o)}}a.addSeries=function(n,r){n=ae(n,r=null==r?Mn.length:r,xr,Yr),Mn.splice(r,0,n),be(Mn[r],r)},a.delSeries=function(n){Mn.splice(n,1),fr&&vr.splice(n,1)[0][0].parentNode.remove(),xe.length>1&&xe.splice(n,1)[0].remove()},Mn.forEach(be);var _e=[!1,!1,!1,!1];function ke(n,r,e){var t=e[0],l=e[1],i=e[2],a=e[3],o=r%2,s=0;return 0==o&&(a||l)&&(s=0==r&&!t||2==r&&!i?p(wr.size/3):0),1==o&&(t||i)&&(s=1==r&&!l||3==r&&!a?p(Pr.size/2):0),s}Sn.forEach((function(n,r){if(n._show=n.show,n.show){var e=zn[n.scale];null==e&&(n.scale=n.side%2?Mn[1].scale:Dn,e=zn[n.scale]);var t=e.time;n.size=D(n.size),n.space=D(n.space),n.rotate=D(n.rotate),n.incrs=D(n.incrs||(2==e.distr?Fn:t?1==yn?Xn:nr:Nn)),n.splits=D(n.splits||(t&&1==e.distr?qn:3==e.distr?kr:4==e.distr?yr:_r)),n.stroke=D(n.stroke),n.grid.stroke=D(n.grid.stroke),n.ticks.stroke=D(n.ticks.stroke);var l=n.values;n.values=t?I(l)?lr(Un,tr(l,Jn)):L(l)?function(n,r){var e=Pn(r);return(r,t)=>t.map((r=>e(n(r))))}(Un,l):l||Zn:l||br,n.filter=D(n.filter||(3>e.distr?E:Dr)),n.font=me(n.font),n.labelFont=me(n.labelFont),n._size=n.size(a,null,r,0),n._space=n._rotate=n._incrs=n._found=n._splits=n._values=null,n._size>0&&(_e[r]=!0)}}));var ye,Me=a.padding=(r.padding||[ke,ke,ke,ke]).map((n=>D(u(n,ke)))),Se=a._padding=Me.map(((n,r)=>n(a,r,_e,0))),ze=null,Te=null,De=Mn[0].idxs,Ee=null,Pe=!1;function Ae(n,r){if((n=n||[])[0]=n[0]||[],a.data=n,e=n.slice(),ye=(Ee=e[0]).length,2==On&&(e[0]=Ee.map(((n,r)=>r))),a._data=e,Ie(!0),Wt(\\\"setData\\\"),!1!==r){var t=Vn;t.auto(a,Pe)?We():ct(Dn,t.min,t.max),$r=!0,ne=!0,Qe()}}function We(){var n,r,t,a,o;Pe=!0,ye>0?(ze=De[0]=0,Te=De[1]=ye-1,a=e[0][ze],o=e[0][Te],2==On?(a=ze,o=Te):1==ye&&(3==On?(a=(n=l(a,a,Vn.log,!1))[0],o=n[1]):4==On?(a=(r=i(a,a,Vn.log,!1))[0],o=r[1]):Vn.time?o=a+86400/yn:(a=(t=s(a,o,.1,!0))[0],o=t[1]))):(ze=De[0]=a=null,Te=De[1]=o=null),ct(Dn,a,o)}function Ye(n,r,e,t,l){F.strokeStyle=n||Q,F.lineWidth=r,F.lineJoin=\\\"round\\\",F.lineCap=t||\\\"butt\\\",F.setLineDash(e||[]),F.fillStyle=l||Q}function Ce(n,r,e,t,l,i,a){Ye(n,r,e,t,l),l&&a&&F.fill(a),n&&i&&r&&F.stroke(i)}function He(n,r,e,t,l,i,a,o,s,u){var f=a%2/2;kn&&F.translate(f,f),Ye(o,a,s,u),F.beginPath();var c,v,h,d,m=l+(0==t||3==t?-i:i);0==e?(v=l,d=m):(c=l,h=m),n.forEach(((n,t)=>{null!=r[t]&&(0==e?c=h=n:v=d=n,F.moveTo(c,v),F.lineTo(h,d))})),F.stroke(),kn&&F.translate(-f,-f)}function Fe(n){var r=!0;return Sn.forEach(((e,t)=>{if(e.show){var l=zn[e.scale];if(null!=l.min){e._show||(r=!1,e._show=!0,Ie(!1));var i=e.side,o=l.min,s=l.max,u=function(n,r,e,t){var l,i=Sn[n];if(t>0){var o=i._space=i.space(a,n,r,e,t),s=i._incrs=i.incrs(a,n,r,e,t,o);l=i._found=function(n,r,e,t,l){for(var i=t/(r-n),a=(\\\"\\\"+m(n)).length,o=0;e.length>o;o++){var s=e[o]*i,u=10>e[o]?C.get(e[o]):0;if(s>=l&&17>a+u)return[e[o],s]}return[0,0]}(r,e,s,t,o)}else l=[0,0];return l}(t,o,s,0==i%2?Nr:Lr),f=u[0],c=u[1];if(0!=c){var v=e._splits=e.splits(a,t,o,s,f,c,2==l.distr),h=2==l.distr?v.map((n=>Ee[n])):v,d=2==l.distr?Ee[v[1]]-Ee[v[0]]:f,p=e._values=e.values(a,e.filter(a,h,t,c,d),t,c,d);e._rotate=2==i?e.rotate(a,p,t,c):0;var w=e._size;e._size=g(e.size(a,p,t,n)),\",\"0_uPlot.js\":\"/*! https://github.com/leeoniya/uPlot (v1.6.5) */\\nvar uPlot=function(){\\\"use strict\\\";function n(n,r,e,t){var l;e=e||0;for(var i=2147483647>=(t=t||r.length-1);t-e>1;)n>r[l=i?e+t>>1:m((e+t)/2)]?e=l:t=l;return n-r[e]>r[t]-n?t:e}function r(n,r,e,t){for(var l=1==t?r:e;l>=r&&e>=l;l+=t)if(null!=n[l])return l;return-1}var e=[0,0];function t(n,r,t,l){return e[0]=0>t?Y(n,-t):n,e[1]=0>l?Y(r,-l):r,e}function l(n,r,e,l){var i,a,o,s=10==e?k:y;return n==r&&(n/=e,r*=e),l?(i=m(s(n)),a=g(s(r)),n=(o=t(b(e,i),b(e,a),i,a))[0],r=o[1]):(i=m(s(d(n))),a=m(s(d(r))),n=W(n,(o=t(b(e,i),b(e,a),i,a))[0]),r=A(r,o[1])),[n,r]}function i(n,r,e,t){var i=l(n,r,e,t);return 0==n&&(i[0]=0),0==r&&(i[1]=0),i}var a={pad:0,soft:null,mode:0},o={min:a,max:a};function s(n,r,e,t){return V(e)?f(n,r,e):(a.pad=e,a.soft=t?0:null,a.mode=t?3:0,f(n,r,o))}function u(n,r){return null==n?r:n}function f(n,r,e){var t=e.min,l=e.max,i=u(t.pad,0),a=u(l.pad,0),o=u(t.hard,-S),s=u(l.hard,S),f=u(t.soft,S),c=u(l.soft,-S),v=u(t.mode,0),h=u(l.mode,0),p=r-n,g=p||d(r)||1e3,_=k(g),y=b(10,m(_)),M=Y(W(n-g*(0==p?0==n?.1:1:i),y/10),6),z=f>n||1!=v&&(3!=v||M>f)&&(2!=v||f>M)?S:f,T=x(o,z>M&&n>=z?z:w(z,M)),D=Y(A(r+g*(0==p?0==r?.1:1:a),y/10),6),E=r>c||1!=h&&(3!=h||c>D)&&(2!=h||D>c)?-S:c,P=w(s,D>E&&E>=r?E:x(E,D));return T==P&&0==T&&(P=100),[T,P]}var c=new Intl.NumberFormat(navigator.language).format,v=Math,h=v.PI,d=v.abs,m=v.floor,p=v.round,g=v.ceil,w=v.min,x=v.max,b=v.pow,_=v.sqrt,k=v.log10,y=v.log2,M=(n,r)=>(void 0===r&&(r=1),v.asinh(n/r)),S=1/0;function z(n,r){return p(n/r)*r}function T(n,r,e){return w(x(n,r),e)}function D(n){return\\\"function\\\"==typeof n?n:()=>n}var E=(n,r)=>r,P=()=>null;function A(n,r){return g(n/r)*r}function W(n,r){return m(n/r)*r}function Y(n,r){return p(n*(r=Math.pow(10,r)))/r}var C=new Map;function H(n){return((\\\"\\\"+n).split(\\\".\\\")[1]||\\\"\\\").length}function F(n,r,e,t){for(var l=[],i=t.map(H),a=r;e>a;a++)for(var o=d(a),s=Y(b(n,a),o),u=0;t.length>u;u++){var f=t[u]*s,c=(0>f||0>a?o:0)+(i[u]>a?i[u]:0),v=Y(f,c);l.push(v),C.set(v,c)}return l}var N={},I=Array.isArray;function L(n){return\\\"string\\\"==typeof n}function V(n){var r=!1;if(null!=n){var e=n.constructor;r=null==e||e==Object}return r}function O(n){var r;if(I(n))r=n.map(O);else if(V(n))for(var e in r={},n)r[e]=O(n[e]);else r=n;return r}function j(n){for(var r=arguments,e=1;r.length>e;e++){var t=r[e];for(var l in t)V(n[l])?j(n[l],O(t[l])):n[l]=O(t[l])}return n}function G(n,r,e){for(var t=0,l=void 0,i=-1;r.length>t;t++){var a=r[t];if(a>i){for(l=a-1;l>=0&&null==n[l];)n[l--]=null;for(l=a+1;e>l&&null==n[l];)n[i=l++]=null}}}var B=\\\"undefined\\\"==typeof queueMicrotask?n=>Promise.resolve().then(n):queueMicrotask,R=\\\"width\\\",U=\\\"height\\\",J=\\\"top\\\",q=\\\"bottom\\\",Z=\\\"left\\\",X=\\\"right\\\",K=\\\"#000\\\",Q=\\\"#0000\\\",$=\\\"mousemove\\\",nn=\\\"mousedown\\\",rn=\\\"mouseup\\\",en=\\\"mouseenter\\\",tn=\\\"mouseleave\\\",ln=\\\"dblclick\\\",an=\\\"resize\\\",on=\\\"scroll\\\",sn=\\\"u-off\\\",un=\\\"u-label\\\",fn=document,cn=window,vn=devicePixelRatio;function hn(n,r){null!=r&&n.classList.add(r)}function dn(n,r){n.classList.remove(r)}function mn(n,r,e){n.style[r]=e+\\\"px\\\"}function pn(n,r,e,t){var l=fn.createElement(n);return null!=r&&hn(l,r),null!=e&&e.insertBefore(l,t),l}function gn(n,r){return pn(\\\"div\\\",n,r)}function wn(n,r,e,t,l){n.style.transform=\\\"translate(\\\"+r+\\\"px,\\\"+e+\\\"px)\\\",0>r||0>e||r>t||e>l?hn(n,sn):dn(n,sn)}var xn={passive:!0};function bn(n,r,e){r.addEventListener(n,e,xn)}function _n(n,r,e){r.removeEventListener(n,e,xn)}var kn=[\\\"January\\\",\\\"February\\\",\\\"March\\\",\\\"April\\\",\\\"May\\\",\\\"June\\\",\\\"July\\\",\\\"August\\\",\\\"September\\\",\\\"October\\\",\\\"November\\\",\\\"December\\\"],yn=[\\\"Sunday\\\",\\\"Monday\\\",\\\"Tuesday\\\",\\\"Wednesday\\\",\\\"Thursday\\\",\\\"Friday\\\",\\\"Saturday\\\"];function Mn(n){return n.slice(0,3)}var Sn=yn.map(Mn),zn=kn.map(Mn),Tn={MMMM:kn,MMM:zn,WWWW:yn,WWW:Sn};function Dn(n){return(10>n?\\\"0\\\":\\\"\\\")+n}var En={YYYY:n=>n.getFullYear(),YY:n=>(n.getFullYear()+\\\"\\\").slice(2),MMMM:(n,r)=>r.MMMM[n.getMonth()],MMM:(n,r)=>r.MMM[n.getMonth()],MM:n=>Dn(n.getMonth()+1),M:n=>n.getMonth()+1,DD:n=>Dn(n.getDate()),D:n=>n.getDate(),WWWW:(n,r)=>r.WWWW[n.getDay()],WWW:(n,r)=>r.WWW[n.getDay()],HH:n=>Dn(n.getHours()),H:n=>n.getHours(),h:n=>{var r=n.getHours();return 0==r?12:r>12?r-12:r},AA:n=>12>n.getHours()?\\\"AM\\\":\\\"PM\\\",aa:n=>12>n.getHours()?\\\"am\\\":\\\"pm\\\",a:n=>12>n.getHours()?\\\"a\\\":\\\"p\\\",mm:n=>Dn(n.getMinutes()),m:n=>n.getMinutes(),ss:n=>Dn(n.getSeconds()),s:n=>n.getSeconds(),fff:n=>function(n){return(10>n?\\\"00\\\":100>n?\\\"0\\\":\\\"\\\")+n}(n.getMilliseconds())};function Pn(n,r){r=r||Tn;for(var e,t=[],l=/\\\\{([a-z]+)\\\\}|[^{]+/gi;e=l.exec(n);)t.push(\\\"{\\\"==e[0][0]?En[e[1]]:e[0]);return n=>{for(var e=\\\"\\\",l=0;t.length>l;l++)e+=\\\"string\\\"==typeof t[l]?t[l]:t[l](n,r);return e}}var An=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Wn=n=>n%1==0,Yn=[1,2,2.5,5],Cn=F(10,-16,0,Yn),Hn=F(10,0,16,Yn),Fn=Hn.filter(Wn),Nn=Cn.concat(Hn),In=\\\"{YYYY}\\\",Ln=\\\"\\\\n\\\"+In,Vn=\\\"{M}/{D}\\\",On=\\\"\\\\n\\\"+Vn,jn=On+\\\"/{YY}\\\",Gn=\\\"{aa}\\\",Bn=\\\"{h}:{mm}\\\"+Gn,Rn=\\\"\\\\n\\\"+Bn,Un=\\\":{ss}\\\",Jn=null;function qn(n){var r=1e3*n,e=60*r,t=60*e,l=24*t,i=30*l,a=365*l;return[(1==n?F(10,0,3,Yn).filter(Wn):F(10,-3,0,Yn)).concat([r,5*r,10*r,15*r,30*r,e,5*e,10*e,15*e,30*e,t,2*t,3*t,4*t,6*t,8*t,12*t,l,2*l,3*l,4*l,5*l,6*l,7*l,8*l,9*l,10*l,15*l,i,2*i,3*i,4*i,6*i,a,2*a,5*a,10*a,25*a,50*a,100*a]),[[a,In,Jn,Jn,Jn,Jn,Jn,Jn,1],[28*l,\\\"{MMM}\\\",Ln,Jn,Jn,Jn,Jn,Jn,1],[l,Vn,Ln,Jn,Jn,Jn,Jn,Jn,1],[t,\\\"{h}\\\"+Gn,jn,Jn,On,Jn,Jn,Jn,1],[e,Bn,jn,Jn,On,Jn,Jn,Jn,1],[r,Un,jn+\\\" \\\"+Bn,Jn,On+\\\" \\\"+Bn,Jn,Rn,Jn,1],[n,Un+\\\".{fff}\\\",jn+\\\" \\\"+Bn,Jn,On+\\\" \\\"+Bn,Jn,Rn,Jn,1]],function(r){return(o,s,u,f,c,v)=>{var h=[],d=c>=a,p=c>=i&&a>c,g=r(u),w=g*n,x=ir(g.getFullYear(),d?0:g.getMonth(),p||d?1:g.getDate()),b=x*n;if(p||d)for(var _=p?c/i:0,k=d?c/a:0,y=w==b?w:ir(x.getFullYear()+k,x.getMonth()+_,1)*n,M=new Date(y/n),S=M.getFullYear(),z=M.getMonth(),T=0;f>=y;T++){var D=ir(S+k*T,z+_*T,1);(y=(+D+(D-r(D*n)))*n)>f||h.push(y)}else{var E=l>c?c:l,P=b+(m(u)-m(w))+A(w-b,E);h.push(P);for(var W=r(P),C=W.getHours()+W.getMinutes()/e+W.getSeconds()/t,H=c/t,F=v/o.axes[s]._space;(P=Y(P+c,1==n?0:3))<=f;)if(H>1){var N=m(Y(C+H,6))%24,I=r(P).getHours()-N;I>1&&(I=-1),C=(C+H)%24,.7>Y(((P-=I*t)-h[h.length-1])/c,3)*F||h.push(P)}else h.push(P)}return h}}]}var Zn=qn(1),Xn=Zn[0],Kn=Zn[1],Qn=Zn[2],$n=qn(.001),nr=$n[0],rr=$n[1],er=$n[2];function tr(n,r){return n.map((n=>n.map(((e,t)=>0==t||8==t||null==e?e:r(1==t||0==n[8]?e:n[1]+e)))))}function lr(n,r){return(e,t,l,i,a)=>{var o,s,u,f,c,v,h=r.find((n=>a>=n[0]))||r[r.length-1];return t.map((r=>{var e=n(r),t=e.getFullYear(),l=e.getMonth(),i=e.getDate(),a=e.getHours(),d=e.getMinutes(),m=e.getSeconds(),p=t!=o&&h[2]||l!=s&&h[3]||i!=u&&h[4]||a!=f&&h[5]||d!=c&&h[6]||m!=v&&h[7]||h[1];return o=t,s=l,u=i,f=a,c=d,v=m,p(e)}))}}function ir(n,r,e){return new Date(n,r,e)}function ar(n,r){return r(n)}function or(n,r){return(e,t)=>r(n(t))}function sr(n,r){var e=n.series[r];return e.width?e.stroke(n,r):e.points.width?e.points.stroke(n,r):null}function ur(n,r){return n.series[r].fill(n,r)}F(2,-53,53,[1]);var fr=[0,0];function cr(n,r,e){return n=>{0==n.button&&e(n)}}function vr(n,r,e){return e}var hr={show:!0,x:!0,y:!0,lock:!1,move:function(n,r,e){return fr[0]=r,fr[1]=e,fr},points:{show:function(n,r){var e=n.cursor.points,t=gn(),l=e.stroke(n,r),i=e.fill(n,r);t.style.background=i||l;var a=e.size(n,r),o=e.width(n,r,a);o&&(t.style.border=o+\\\"px solid \\\"+l);var s=a/-2;return mn(t,R,a),mn(t,U,a),mn(t,\\\"marginLeft\\\",s),mn(t,\\\"marginTop\\\",s),t},size:function(n,r){return Ar(n.series[r].width,1)},width:0,stroke:function(n,r){return n.series[r].stroke(n,r)},fill:function(n,r){return n.series[r].stroke(n,r)}},bind:{mousedown:cr,mouseup:cr,click:cr,dblclick:cr,mousemove:vr,mouseleave:vr,mouseenter:vr},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx:function(n,r,e){return e}},dr={show:!0,stroke:\\\"rgba(0,0,0,0.07)\\\",width:2,filter:E},mr=j({},dr,{size:10}),pr='12px system-ui, -apple-system, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\"',gr=\\\"bold \\\"+pr,wr={show:!0,scale:\\\"x\\\",stroke:K,space:50,gap:5,size:50,labelSize:30,labelFont:gr,side:2,grid:dr,ticks:mr,font:pr,rotate:0},xr={show:!0,scale:\\\"x\\\",auto:!1,sorted:1,min:S,max:-S,idxs:[]};function br(n,r){return r.map((n=>null==n?\\\"\\\":c(n)))}function _r(n,r,e,t,l,i,a){for(var o=[],s=C.get(l)||0,u=e=a?e:Y(A(e,l),s);t>=u;u=Y(u+l,s))o.push(Object.is(u,-0)?0:u);return o}function kr(n,r,e,t,l){var i=[],a=n.scales[n.axes[r].scale].log,o=m((10==a?k:y)(e));l=b(a,o),0>o&&(l=Y(l,-o));var s=e;do{i.push(s),l*a>(s=Y(s+l,C.get(l)))||(l=s)}while(t>=s);return i}function yr(n,r,e,t,l){var i=n.scales[n.axes[r].scale].asinh,a=t>i?kr(n,r,x(i,e),t,l):[i],o=0>t||e>0?[]:[0];return(-i>e?kr(n,r,x(i,-t),-e,l):[i]).reverse().map((n=>-n)).concat(o,a)}var Mr=/./,Sr=/[12357]/,zr=/[125]/,Tr=/1/;function Dr(n,r,e){var t=n.axes[e],l=t.scale,i=n.scales[l];if(3==i.distr&&2==i.log)return r;var a=n.valToPos,o=t._space,s=a(10,l),u=a(9,l)-s<o?a(7,l)-s<o?a(5,l)-s<o?Tr:zr:Sr:Mr;return r.map((n=>4==i.distr&&0==n||u.test(n)?n:null))}function Er(n,r){return null==r?\\\"\\\":c(r)}var Pr={show:!0,scale:\\\"y\\\",stroke:K,space:30,gap:5,size:50,labelSize:30,labelFont:gr,side:3,grid:dr,ticks:mr,font:pr,rotate:0};function Ar(n,r){return Y((3+2*(n||1))*r,3)}function Wr(n,r){var e=n.scales[n.series[r].scale],t=n.bands&&n.bands.some((n=>n.series[0]==r));return 3==e.distr||t?e.min:0}var Yr={scale:\\\"y\\\",auto:!0,sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,r){var e=n.series[0].idxs;return(0==n.scales[n.series[0].scale].ori?n.bbox.width:n.bbox.height)/(n.series[r].points.space*vn)>=e[1]-e[0]}},values:null,min:S,max:-S,idxs:[],path:null,clip:null};function Cr(n,r,e){return e/10}var Hr={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Fr=j({},Hr,{time:!1,ori:1}),Nr={};function Ir(n){var r=Nr[n];if(!r){var e=[];r={key:n,sub:function(n){e.push(n)},unsub:function(n){e=e.filter((r=>r!=n))},pub:function(n,r,t,l,i,a){for(var o=0;e.length>o;o++)e[o]!=r&&e[o].pub(n,r,t,l,i,a,o)}},null!=n&&(Nr[n]=r)}return r}function Lr(n,r,e){var t=n.series[r],l=n.scales,i=n.bbox,a=n._data[0],o=n._data[r],s=l[n.series[0].scale],u=l[t.scale],f=i.left,c=i.top,v=i.width,h=i.height,d=n.valToPosH,m=n.valToPosV;return 0==s.ori?e(t,a,o,s,u,d,m,f,c,v,h,Gr,Rr,Jr,Zr,Kr):e(t,a,o,s,u,m,d,c,f,h,v,Br,Ur,qr,Xr,Qr)}function Vr(n,r,e,t,l){return Lr(n,r,((n,r,i,a,o,s,u,f,c,v,h)=>{var d,m,p=0==a.ori?Rr:Ur;1==a.dir*(0==a.ori?1:-1)?(d=e,m=t):(d=t,m=e);var g=z(s(r[d],a,v,f),.5),w=z(u(i[d],o,h,c),.5),x=z(s(r[m],a,v,f),.5),b=z(u(o.max,o,h,c),.5),_=new Path2D(l);return p(_,x,b),p(_,g,b),p(_,g,w),_}))}function Or(n,r,e,t,l,i){var a=null;if(n.length>0){a=new Path2D;for(var o=0==r?Jr:qr,s=e,u=0;n.length>u;u++){var f=n[u];o(a,s,t,f[0]-s,t+i),s=f[1]}o(a,s,t,e+l-s,t+i)}return a}function jr(n,r,e){if(e>r){var t=n[n.length-1];t&&t[0]==r?t[1]=e:n.push([r,e])}}function Gr(n,r,e){n.moveTo(r,e)}function Br(n,r,e){n.moveTo(e,r)}function Rr(n,r,e){n.lineTo(r,e)}function Ur(n,r,e){n.lineTo(e,r)}function Jr(n,r,e,t,l){n.rect(r,e,t,l)}function qr(n,r,e,t,l){n.rect(e,r,l,t)}function Zr(n,r,e,t,l,i){n.arc(r,e,t,l,i)}function Xr(n,r,e,t,l,i){n.arc(e,r,t,l,i)}function Kr(n,r,e,t,l,i,a){n.bezierCurveTo(r,e,t,l,i,a)}function Qr(n,r,e,t,l,i,a){n.bezierCurveTo(e,r,l,t,a,i)}function $r(n){return(r,e,t,l,i)=>{t!=l&&(n(r,e,t),n(r,e,l),n(r,e,i))}}var ne=$r(Rr),re=$r(Ur);function ee(){return(n,e,t,l)=>Lr(n,e,((i,a,o,s,u,f,c,v,h,d,m)=>{var g,b;0==s.ori?(g=Rr,b=ne):(g=Ur,b=re);var _,k,y,M=s.dir*(0==s.ori?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null},D=T.stroke,E=S,P=-S,A=[],W=p(f(a[1==M?t:l],s,d,v)),Y=!1,C=r(o,t,l,1*M),H=r(o,t,l,-1*M),F=z(f(a[C],s,d,v),.5),N=z(f(a[H],s,d,v),.5);F>v&&jr(A,v,F);for(var I=1==M?t:l;I>=t&&l>=I;I+=M){var L=p(f(a[I],s,d,v));if(L==W)null!=o[I]?(_=p(c(o[I],u,m,h)),E==S&&g(D,L,_),E=w(_,E),P=x(_,P)):Y||null!==o[I]||(Y=!0);else{var V=!1;E!=S?(b(D,W,E,P,_),k=y=W):Y&&(V=!0,Y=!1),null!=o[I]?(g(D,L,_=p(c(o[I],u,m,h))),E=P=_,L-W>1&&null===o[I-M]&&(V=!0)):(E=S,P=-S,Y||null!==o[I]||(Y=!0)),V&&jr(A,k,L),W=L}}if(E!=S&&E!=P&&y!=W&&b(D,W,E,P,_),v+d>N&&jr(A,N,v+d),null!=i.fill){var O=T.fill=new Path2D(D),j=p(c(i.fillTo(n,e\"},\"uPlotCSS\":{\"0_uPlotCSS.css\":\".uplot, .uplot *, .uplot *::before, .uplot *::after {box-sizing: border-box;}.uplot {font-family: system-ui, -apple-system, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\";line-height: 1.5;width: min-content;}.u-title {text-align: center;font-size: 18px;font-weight: bold;}.u-wrap {position: relative;user-select: none;}.u-over, .u-under {position: absolute;}.u-under {overflow: hidden;}.uplot canvas {display: block;position: relative;width: 100%;height: 100%;}.u-legend {font-size: 14px;margin: auto;text-align: center;}.u-inline {display: block;}.u-inline * {display: inline-block;}.u-inline tr {margin-right: 16px;}.u-legend th {font-weight: 600;}.u-legend th > * {vertical-align: middle;display: inline-block;}.u-legend .u-marker {width: 1em;height: 1em;margin-right: 4px;background-clip: content-box !important;}.u-inline.u-live th::after {content: \\\":\\\";vertical-align: middle;}.u-inline:not(.u-live) .u-value {display: none;}.u-series > * {padding: 4px;}.u-series th {cursor: pointer;}.u-legend .u-off > * {opacity: 0.3;}.u-select {background: rgba(0,0,0,0.07);position: absolute;pointer-events: none;}.u-cursor-x, .u-cursor-y {position: absolute;left: 0;top: 0;pointer-events: none;will-change: transform;z-index: 100;}.u-hz .u-cursor-x, .u-vt .u-cursor-y {height: 100%;border-right: 1px dashed #607D8B;}.u-hz .u-cursor-y, .u-vt .u-cursor-x {width: 100%;border-bottom: 1px dashed #607D8B;}.u-cursor-pt {position: absolute;top: 0;left: 0;border-radius: 50%;pointer-events: none;will-change: transform;z-index: 100;/*this has to be !important since we set inline \\\"background\\\" shorthand */background-clip: content-box !important;}.u-select.u-off, .u-cursor-x.u-off, .u-cursor-y.u-off, .u-cursor-pt.u-off {display: none;}\"}},\"lib_size\":{}}",
    "file_name": "01:噴灌控制器 - 範例",
    "file_save_01:噴灌控制器 - 範例": "{\"tx_html\":\"<div class=\\\"flex-center\\\">\\n    <div class=\\\"card-basic card-purple card-size-lg\\\">\\n        <div class=\\\"card-title\\\">\\n            &#128160; 模式\\n        </div>\\n        <div class=\\\"card-content\\\">\\n            <select id=\\\"mode\\\" class=\\\"select-basic\\\">\\n                <option value=\\\"停止\\\">停止</option>\\n                <option value=\\\"手動\\\">手動</option>\\n                <option value=\\\"自動\\\">自動(待機)</option>\\n            </select>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"scrollable-block-x\\\">\\n    <div class=\\\"scrollable-area-x\\\">\\n        <div class=\\\"card-basic card-blue card-size-sm\\\">\\n            <div class=\\\"card-size-sm\\\">\\n                <div class=\\\"card-title\\\">\\n                    &#9202; 水位\\n                </div>\\n                <div class=\\\"card-content\\\">\\n                    <div id=\\\"ILP\\\" class=\\\"data-basic\\\">\\n                        569\\n                    </div>\\n                    <div class=\\\"unit-style\\\">\\n                        cm\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card-basic card-purple card-size-sm\\\">\\n            <div class=\\\"card-size-sm\\\">\\n                <div class=\\\"card-title\\\">\\n                    &#9202; 出口壓力\\n                </div>\\n                <div class=\\\"card-content\\\">\\n                    <div id=\\\"OLP\\\" class=\\\"data-basic\\\">\\n                        2.09\\n                    </div>\\n                    <div class=\\\"unit-style\\\">\\n                        kg/㎠\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card-basic card-blue card-size-sm\\\">\\n            <div class=\\\"card-size-sm\\\">\\n                <div class=\\\"card-title\\\">\\n                    &#128167; 濕度\\n                </div>\\n                <div class=\\\"card-content\\\">\\n                    <div id=\\\"Hum\\\" class=\\\"data-basic\\\">\\n                        79.3\\n                    </div>\\n                    <div class=\\\"unit-style\\\">\\n                        %\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card-basic card-purple card-size-sm\\\">\\n            <div class=\\\"card-size-sm\\\">\\n                <div class=\\\"card-title\\\">\\n                    &#127777; 溫度\\n                </div>\\n                <div class=\\\"card-content\\\">\\n                    <div id=\\\"Temp\\\" class=\\\"data-basic\\\">\\n                        26.5\\n                    </div>\\n                    <div class=\\\"unit-style\\\">\\n                        ℃\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card-basic card-blue card-size-sm\\\">\\n            <div class=\\\"card-size-sm\\\">\\n                <div class=\\\"card-title\\\">\\n                    &#127793; 土壤濕度\\n                </div>\\n                <div class=\\\"card-content\\\">\\n                    <div id=\\\"SoilMoisture\\\" class=\\\"data-basic\\\">\\n                        15536\\n                    </div>\\n                    <div class=\\\"unit-style\\\">\\n                        %\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"control-area\\\">\\n    <button id=\\\"station_1\\\" class=\\\"btn-control danger\\\">1站</button>\\n    <button id=\\\"station_2\\\" class=\\\"btn-control danger\\\">2站</button>\\n    <button id=\\\"station_3\\\" class=\\\"btn-control danger\\\">3站</button>\\n    <button id=\\\"station_4\\\" class=\\\"btn-control danger\\\">4站</button>\\n    <button id=\\\"station_5\\\" class=\\\"btn-control danger\\\">5站</button>\\n    <button id=\\\"station_6\\\" class=\\\"btn-control danger\\\">6站</button>\\n    <button id=\\\"station_7\\\" class=\\\"btn-control danger\\\">7站</button>\\n    <button id=\\\"station_8\\\" class=\\\"btn-control danger\\\">8站</button>\\n</div>\",\"tx_css\":\".btn-control {\\n    width: 9rem;\\n    height: 3.25rem;\\n    margin: 0.75rem;\\n    font-size: 1.25rem;\\n    line-height: 1.75rem;\\n    font-weight: bold;\\n    border-radius: 3rem;\\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\n    transition-property: background-color, border-color, color, fill, stroke;\\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n    transition-duration: 150ms;\\n}\\n\\n.control-area {\\n    width: 95%;\\n    max-width: 400px;\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    margin: auto;\\n    text-align: center;\\n    margin-top: 24px;\\n}\\n\\n/*選單*/\\n.select-basic {\\n    width: 75%;\\n    max-width: 200px;\\n    padding: 15px;\\n    text-align: center;\\n    background-color: white;\\n    border-radius: 10px;\\n    box-shadow: 0px 2px 5px #00000033;\\n    margin-top: 0.5rem;\\n    margin-bottom: 0.5rem;\\n}\\n\\n/*flex置中*/\\n.flex-center {\\n    display: flex;\\n    justify-content: center;\\n}\\n\\n/*卡片(基礎)*/\\n.card-basic {\\n    width: 80% !important;\\n    height: 8rem;\\n    color: rgb(63, 63, 63);\\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\\n    border-radius: 1rem;\\n    border-width: 2px;\\n    border-color: rgb(209, 213, 219);\\n    margin: 0.25rem;\\n}\\n\\n/*卡片(標題)*/\\n.card-title {\\n    text-align: center;\\n    font-size: 1.5rem;\\n    margin-top: 0.25rem;\\n    margin-bottom: 0.25rem;\\n}\\n\\n/*卡片(內容)*/\\n.card-content {\\n    text-align: center;\\n}\\n\\n/*卡片大小(小)*/\\n.card-size-sm {\\n    width: 10rem;\\n    max-width: 10rem;\\n}\\n\\n/*卡片大小(中)*/\\n.card-size-md {\\n    width: 15rem;\\n    max-width: 15rem;\\n}\\n\\n/*卡片大小(大)*/\\n.card-size-lg {\\n    width: 25rem;\\n    max-width: 25rem;\\n}\\n\\n/*卡片(顏色)*/\\n.card-purple {\\n    /*background: radial-gradient(*/\\n    /*50% 50% at 50% 50%,*/\\n    /*rgba(230, 215, 255, 0.35) 6.25%,*/\\n    /*#e3d2ff 100%*/\\n    /*);*/\\n    background-color: #e3d2ff;\\n}\\n\\n.card-blue {\\n    /*background: radial-gradient(*/\\n    /*50% 50% at 50% 50%,*/\\n    /*rgba(218, 228, 255, 0.35) 0%,*/\\n    /*#c2d3fe 100%*/\\n    /*);*/\\n    background-color: #c2d3fe;\\n}\\n\\n/*X軸滾動區塊*/\\n.scrollable-block-x {\\n    width: 100%;\\n    max-width: 54rem;\\n    display: block;\\n    overflow-x: auto;\\n    margin: auto;\\n    margin-top: 0.5rem;\\n    margin-bottom: 0.5rem;\\n}\\n\\n/*X軸滾動區塊內容*/\\n.scrollable-area-x {\\n    height: auto;\\n    margin: auto;\\n    display: flex;\\n    justify-content: space-between;\\n}\\n\\n\\n/*Y軸滾動區域*/\\n.scrollable-block-y {}\\n\\n.data-basic {\\n    font-size: 2rem;\\n    font-weight: bold;\\n    margin-top: 0.5rem;\\n    margin-bottom: 0.5rem;\\n}\\n\\n.unit-style {\\n    font-size: 1rem;\\n    font-weight: bold;\\n    text-align: right;\\n    margin-right: 1rem;\\n}\",\"tx_data\":\"/*data will be e.data from websocket*/\\nfunction dataFormatEntryPoint(data) {\\n    if (data instanceof Uint8Array) {\\n        data[0] === 0x00\\n        ? showSYS(data): data[0] === 0x01\\n        ? showEEPROM(data): data[0] === 0x02\\n        ? showUserData(data): 0;\\n    } else {\\n        var ii;\\n        for (key in data) {\\n            if (data[key].toString().includes(\\\"啟動模式\\\")) {\\n                let d = data[key].split(\\\"\\\\r\\\\n\\\");\\n                refactData(d);\\n            }\\n            if (key == \\\"tx\\\") {\\n                ii = $(\\\"tx\\\");\\n                str = ii.value;\\n                str += \\\"\\\\n\\\";\\n                str += data[key];\\n                ii.value = str;\\n                ii.scrollTop = ii.scrollHeight;\\n                let msg = data[key].toString();\\n\\n                if ([\\\"ESP:set\\\", \\\"ESP:SET\\\"].some((el) => msg.includes(el))) {\\n                    alert(\\\"更換SSID成功，reset後生效\\\");\\n                }\\n\\n                if (msg === \\\"reconnected\\\") {\\n                    alert(\\\"已重新連上wifi!\\\");\\n                }\\n\\n                if (msg === \\\"reset\\\") {\\n                    alert(\\\"已切換至獨立模式!\\\");\\n                }\\n\\n                if (msg.includes(\\\"set Device ID:\\\")) {\\n                    alert(\\\"已修改裝置名稱!\\\");\\n                }\\n\\n                if (msg.includes(\\\"set Serial baudrate\\\")) {\\n                    alert(\\\"已修改裝置 UART Baud!\\\");\\n                }\\n\\n                if (msg.includes(\\\"set correct baudrate\\\")) {\\n                    alert(\\\"請設定支援的Baud: 9600,19200,38400,74800,115200,230400\\\");\\n                }\\n                if (msg.includes(\\\"|\\\")) {\\n                    res_wifi = data[key];\\n                }\\n                continue;\\n            }\\n            if (key == \\\"Sched\\\") {\\n                SYSDATA[\\\"Sched\\\"] = data[key];\\n                continue;\\n            }\\n            ii = $(key);\\n            if (ii) {\\n                ii.innerText = data[key];\\n                SYSDATA[key] = data[key];\\n            }\\n        }\\n    }\\n}\\nwindow.SYSDATA = {\\n    device: \\\"\\\",\\n    wifi: \\\"\\\",\\n    RSSI: \\\"\\\",\\n    LT: 0,\\n    bps: 0,\\n    SSbps: 0,\\n    ILWPR: \\\"\\\",\\n    ILWPSH: \\\"\\\",\\n    OLWPR: \\\"\\\",\\n    OLWPSH: \\\"\\\",\\n    PumpILStart: \\\"\\\",\\n    PumpILStartActID: \\\"\\\",\\n    PumpILStop: \\\"\\\",\\n    SMFull: \\\"\\\",\\n    SML: \\\"\\\",\\n    SMLActT: \\\"\\\",\\n    SMZero: \\\"\\\",\\n    STMODE: \\\"\\\",\\n    Stations: 0,\\n    FoehnHum: \\\"\\\",\\n    foehnOpT: \\\"\\\",\\n    FoehnTemp: \\\"\\\",\\n    Sched: [],\\n};\\nfunction showUserData(data) {\\n    SYSDATA[\\\"mode\\\"] = data[12];\\n    SYSDATA[\\\"cur_station\\\"] = [\\n        data[3],\\n        data[4],\\n        data[5],\\n        data[6],\\n        data[7],\\n        data[8],\\n        data[9],\\n        data[10],\\n    ];\\n\\n    for (let i = 0; i < 8; i++) {\\n        if (data[12] == 0) {\\n            $(`station_${i + 1}`).innerText = `${i+1}站\\\\n停止`;\\n            $(`station_${i + 1}`).classList.remove(\\\"success\\\");\\n            $(`station_${i + 1}`).classList.add(\\\"danger\\\");\\n        } else if (SYSDATA.cur_station[i] === 0) {\\n            $(`station_${i + 1}`).classList.remove(\\\"success\\\");\\n            $(`station_${i + 1}`).classList.add(\\\"danger\\\");\\n        } else {\\n            $(`station_${i + 1}`).classList.add(\\\"success\\\");\\n            $(`station_${i + 1}`).classList.remove(\\\"danger\\\");\\n        }\\n\\n        // 自動模式顯示噴灑時間\\n        if (data[12] != 0 && data[12] != 1) {\\n            $(`station_${i + 1}`).innerText = `${i+1}站\\\\n剩 ${SYSDATA.cur_station[i]} 分`;\\n            if (SYSDATA.cur_station[i] > 0) {\\n                $(`station_${i + 1}`).classList.add(\\\"success\\\");\\n                $(`station_${i + 1}`).classList.remove(\\\"danger\\\");\\n            } else {\\n                $(`station_${i + 1}`).classList.remove(\\\"success\\\");\\n                $(`station_${i + 1}`).classList.add(\\\"danger\\\");\\n            }\\n        }\\n\\n        // 手動模式顯示\\n        if (data[12] == 1) {\\n            $(`station_${i + 1}`).innerText = `${i+1}站`;\\n        }\\n    }\\n\\n    switch (data[12]) {\\n        case 0:\\n            $(\\\"mode\\\").value = \\\"停止\\\";\\n            SYSDATA.STMODE = \\\"停止\\\";\\n            break;\\n        case 1:\\n            $(\\\"mode\\\").value = \\\"手動\\\";\\n            SYSDATA.STMODE = \\\"手動\\\";\\n            break;\\n        case 2:\\n            $(\\\"mode\\\").options[2].label = \\\"自動(執行)\\\";\\n            $(\\\"mode\\\").value = \\\"自動\\\";\\n            SYSDATA.STMODE = \\\"自動\\\";\\n            break;\\n        case 3:\\n            $(\\\"mode\\\").options[2].label = \\\"自動(待機)\\\";\\n            $(\\\"mode\\\").value = \\\"自動\\\";\\n            SYSDATA.STMODE = \\\"自動\\\";\\n            break;\\n        case 4:\\n            $(\\\"mode\\\").options[2].label = \\\"自動(暫停)\\\";\\n            $(\\\"mode\\\").value = \\\"自動\\\";\\n            SYSDATA.STMODE = \\\"自動\\\";\\n            break;\\n        default:\\n            console.log(\\\"not allowed mode\\\");\\n            break;\\n    }\\n\\n    let v = 0.0;\\n    v = data[14];\\n    v <<= 8;\\n    v += data[15];\\n    $(\\\"ILP\\\").innerHTML = v;\\n    v = data[16];\\n    v <<= 8;\\n    v += data[17];\\n    $(\\\"OLP\\\").innerHTML = v / 100;\\n    v = data[18];\\n    v <<= 8;\\n    v += data[19];\\n    $(\\\"Temp\\\").innerHTML = v / 10;\\n    v = data[20];\\n    v <<= 8;\\n    v += data[21];\\n    $(\\\"Hum\\\").innerHTML = v / 10;\\n    v = data[22];\\n    v <<= 8;\\n    v += data[23];\\n    $(\\\"SoilMoisture\\\").innerHTML = v;\\n\\n    str = data[25] > 9 ? data[25]: \\\"0\\\" + data[25];\\n    str += \\\":\\\";\\n    str += data[26] > 9 ? data[26]: \\\"0\\\" + data[26];\\n    str += \\\" 星期\\\";\\n    str +=\\n    data[24] == 1\\n    ? \\\"一\\\": data[24] == 2\\n    ? \\\"二\\\": data[24] == 3\\n    ? \\\"三\\\": data[24] == 4\\n    ? \\\"四\\\": data[24] == 5\\n    ? \\\"五\\\": data[24] == 6\\n    ? \\\"六\\\": \\\"日\\\";\\n    $(\\\"time\\\").innerHTML = str;\\n}\\n\\nfunction showSYS(data) {\\n    len = data[1];\\n    len <<= 8;\\n    len += data[2];\\n    if (len < 4) return;\\n    lt = 0;\\n    for (i = 3; i < 7; ++i) {\\n        lt <<= 8;\\n        lt += data[i];\\n    }\\n    $(\\\"LT\\\").innerHTML = lt;\\n    if (len < 32) return;\\n\\n    ssbps = 0;\\n    for (i = 32; i < 36; ++i) {\\n        ssbps <<= 8;\\n        ssbps += data[i];\\n    }\\n    $(\\\"SSbps\\\").innerHTML = ssbps;\\n}\\n\\nfunction refactData(data) {\\n    for (let i = 0; i < data.length - 1; i++) {\\n        // 模式參數獨立處理\\n        if (data[i].includes(\\\"STMODE\\\")) {\\n            SYSDATA[\\\"STMODE\\\"] = data[i].split(\\\"( \\\")[1].split(\\\" ): \\\")[1];\\n            // console.log(data[i].split(\\\"( \\\")[1].split(\\\" ): \\\"));\\n            continue;\\n        }\\n\\n        // 正則化取得英文與數字\\n        let output = data[i]\\n        .replace(/[^A-Za-z0-9]/g, \\\"\\\")\\n        .match(/[a-zA-Z]+|[0-9]+/g);\\n\\n        // 結果為null則跳過\\n        if (output == null) continue;\\n\\n        // 第一個元素要為英文，若是數字則移除\\n        if (output[0].match(/[a-z]/i) == null) {\\n            output = [output[1],\\n                output[2]];\\n        }\\n        console.log(output);\\n\\n        // 將output內容更新至SYSDATA中\\n        for (let j = 0; j < output.length / 2; j++) {\\n            SYSDATA[output[j * 2]] = output[j * 2 + 1];\\n        }\\n    }\\n}\",\"tx_ui_app\":\"title: 開機模式 , val: 點擊設定, btn_id: custom_STMODE\\ntitle: 系統開關 , val: -, val_id: custom_Stations_val, btn_id: custom_Stations\\n\\n# 進水水壓計校正\\ntitle: 位移 , val: -, val_id: custom_ILWPSH_val , btn_id: custom_ILWPSH\\ntitle: 比例 , val: -, val_id: custom_ILWPR_val, btn_id: custom_ILWPR\\n\\n# 出水水壓計校正\\ntitle: 位移 , val: -, val_id: custom_OLWPSH_val, btn_id: custom_OLWPSH\\ntitle: 比例 , val: -, val_id: custom_OLWPR_val, btn_id: custom_OLWPR\\n\\n# 土壤水分校正\\ntitle: 0% , val: -, val_id: custom_SMZero_val, btn_id: custom_SMZero\\ntitle: 100% , val: -, val_id: custom_SMFull_val, btn_id: custom_SMFull\\n\\n# 系統保護\\ntitle: 進水壓小於時停止 , val: -, val_id: custom_Pump_IL_Stop_val, btn_id: custom_Pump_IL_Stop\\ntitle: 進水壓大於 , val: -, val_id: custom_Pump_IL_Start_val, btn_id: custom_Pump_IL_Start\\ntitle: 執行設定 , val: -, val_id: custom_Pump_IL_Start_Act_ID_val, btn_id: custom_Pump_IL_Start_Act_ID\\ntitle: 土壤含水低於 , val: -, val_id: custom_SML_val, btn_id: custom_SML\\ntitle: 動作時間 , val: -, val_id: custom_SMLActT_val, btn_id: custom_SMLActT\\n\\n# 焚風保護\\ntitle: 空氣溫度大於 , val: -, val_id: custom_foehn_Temp_val, btn_id: custom_foehn_Temp\\ntitle: 相對濕度小於 , val: -, val_id: custom_foehn_Hum_val, btn_id: custom_foehn_Hum\\ntitle: 每站循環噴灑 , val: -, val_id: custom_foehn_OpT_val, btn_id: custom_foehn_OpT\\n\",\"tx_app\":\"// update custom page\\nfunction updateCustomPage() {\\n    $(\\\"custom_Stations_val\\\").innerText = SYSDATA.Stations;\\n    $(\\\"custom_ILWPSH_val\\\").innerText = SYSDATA.ILWPSH;\\n    $(\\\"custom_ILWPR_val\\\").innerText = SYSDATA.ILWPR;\\n    $(\\\"custom_OLWPSH_val\\\").innerText = SYSDATA.OLWPSH;\\n    $(\\\"custom_OLWPR_val\\\").innerText = SYSDATA.OLWPR;\\n    $(\\\"custom_SMZero_val\\\").innerText = SYSDATA.SMZero;\\n    $(\\\"custom_SMFull_val\\\").innerText = SYSDATA.SMFull;\\n    $(\\\"custom_Pump_IL_Stop_val\\\").innerText = SYSDATA.PumpILStop;\\n    $(\\\"custom_Pump_IL_Start_val\\\").innerText = SYSDATA.PumpILStart;\\n    $(\\\"custom_Pump_IL_Start_Act_ID_val\\\").innerText = SYSDATA.PumpILStartActID;\\n    $(\\\"custom_SML_val\\\").innerText = SYSDATA.SML.slice(0, -2);\\n    $(\\\"custom_SMLActT_val\\\").innerText = SYSDATA.SMLActT;\\n    $(\\\"custom_foehn_Temp_val\\\").innerText = SYSDATA.FoehnTemp.slice(0, -2);\\n    $(\\\"custom_foehn_Hum_val\\\").innerText = SYSDATA.FoehnHum.slice(0, -2);\\n    $(\\\"custom_foehn_OpT_val\\\").innerText = SYSDATA.foehnOpT;\\n}\\n\\n/** System setting */\\nfunction callSystemSetting(key, value) {\\n    spin(1);\\n    postCmd(`system setting ${key}: ${value}`);\\n    setTimeout(() => {\\n        postCmd(`system setting save`);\\n        updateControlNum();\\n        updateCustomPage();\\n        spin(0);\\n    }, 2000);\\n}\\n\\n// change control mode\\n$(\\\"mode\\\").addEventListener(\\\"change\\\", (e) => {\\n    let select = $(\\\"mode\\\").options[$(\\\"mode\\\").selectedIndex].value;\\n    spin(1);\\n    switch (select) {\\n        case \\\"停止\\\":\\n            postCmd(\\\"change mode 0\\\");\\n            break;\\n        case \\\"手動\\\":\\n            postCmd(\\\"change mode 1\\\");\\n            break;\\n        case \\\"自動\\\":\\n            postCmd(\\\"change mode 2\\\");\\n            break;\\n        default:\\n            console.log(\\\"not defiend mode\\\");\\n            console.log(select);\\n            break;\\n    }\\n    setTimeout(() => {\\n        spin(0);\\n    }, 1000);\\n});\\n\\n// switch control\\nfor (let i = 0; i < 8; i++) {\\n    $(`station_${i + 1}`).addEventListener(\\\"click\\\", () => {\\n        // 手動模式才能按鈕控制\\n        if (SYSDATA.mode !== 1) {\\n            alert(\\\"手動模式才能手動控制，請先點擊模式下的按鈕切換。\\\");\\n            return;\\n        }\\n\\n        postCmd(`station ${i + 1} Swap`);\\n\\n        // 延遲1秒後才可再按\\n        spin(1);\\n        $(`station_${i + 1}`).disabled = true;\\n        setTimeout(() => {\\n            spin(0);\\n            $(`station_${i + 1}`).disabled = false;\\n        }, 1000);\\n    });\\n}\\n\\n/** Custom */\\n\\n// [mode] set STMODE\\n$(\\\"custom_STMODE\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定開機模式(0:STOP,1:MANUAL,2:AUTO)\\\");\\n    if (!data) {\\n        alert(\\\"請輸入模式編號\\\");\\n        return;\\n    }\\n    let mode;\\n    if (data == 0) {\\n        mode = \\\"STOP\\\";\\n    } else if (data == 1) {\\n        mode = \\\"MANUAL\\\";\\n    } else if (data == 2) {\\n        mode = \\\"AUTO\\\";\\n    } else {\\n        alert(\\\"不接受此編號(0:STOP,1:MANUAL,2:AUTO)\\\");\\n        return;\\n    }\\n    callSystemSetting(\\\"STMODE\\\", mode);\\n});\\n\\n// [control] set num of controllers\\n$(\\\"custom_Stations\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定開關數量(Stations)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Stations\\\", data);\\n    }\\n});\\nfunction updateControlNum() {\\n    for (let i = 0; i < 8; i++) {\\n        if (i < parseInt(SYSDATA.Stations)) {\\n            $(`station_${i + 1}`).classList.remove(\\\"hidden\\\");\\n        } else {\\n            $(`station_${i + 1}`).classList.add(\\\"hidden\\\");\\n        }\\n    }\\n}\\n\\n// [input water] set shift of input water pressure\\n$(\\\"custom_ILWPSH\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定進水水壓位移(ILWPSH)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"ILWPSH\\\", data);\\n    }\\n});\\n\\n// [input water] set persent of input water pressure\\n$(\\\"custom_ILWPR\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定進水水壓比例(ILWPR)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"ILWPR\\\", data);\\n    }\\n});\\n\\n// [output water] set shift of output water pressure\\n$(\\\"custom_OLWPSH\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定出水水壓位移(OLWPSH)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"OLWPSH\\\", data);\\n    }\\n});\\n\\n// [output water] set persent of output water pressure\\n$(\\\"custom_OLWPR\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定出水水壓比例(OLWPR)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"OLWPR\\\", data);\\n    }\\n});\\n\\n// [soil humidity] set humidity of soil 0%\\n$(\\\"custom_SMZero\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定土壤水分 0%(SMZero)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"SMZero\\\", data);\\n    }\\n});\\n\\n// [soil humidity] set humidity of soil 100%\\n$(\\\"custom_SMFull\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定土壤水分 100%(SMFull)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"SMFull\\\", data);\\n    }\\n});\\n\\n// [system protect] stop motor when the value input water pressure less than setting\\n$(\\\"custom_Pump_IL_Stop\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定汞浦壓力小於值時停止(Pump IL Stop)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Pump IL Stop\\\", data);\\n    }\\n});\\n\\n// [system protect] go next setting when the input water pressure greater than setting\\n$(\\\"custom_Pump_IL_Start\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定汞浦壓力大於值時執行下一設定(Pump IL Start)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Pump IL Start\\\", data);\\n    }\\n});\\n\\n// [system protect] trigger target event\\n$(\\\"custom_Pump_IL_Start_Act_ID\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"執行設定ID(Pump IL Start Act ID)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Pump IL Start Act ID\\\", data);\\n    }\\n});\\n\\n// [system protect] go next setting when the humidity of soil less than setting\\n$(\\\"custom_SML\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定土壤含水低於值時執行下一設定(SML)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"SML\\\", data);\\n    }\\n});\\n\\n// [system protect] set action time\\n$(\\\"custom_SMLActT\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定動作時間(SMLActT)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"SMLActT\\\", data);\\n    }\\n});\\n\\n// [favogn setting] go next setting when the temp of air greater than setting\\n$(\\\"custom_foehn_Temp\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定空氣溫度大於條件(Foehn Temp)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Foehn Temp\\\", data);\\n    }\\n});\\n\\n// [favogn setting] go next setting when the humidity of air less than setting\\n$(\\\"custom_foehn_Hum\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"設定相對濕度小於條件(Foehn Hum)：\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Foehn Hum\\\", data);\\n    }\\n});\\n\\n// [favogn setting] each station spray with setting time until the event end\\n$(\\\"custom_foehn_OpT\\\").addEventListener(\\\"click\\\", () => {\\n    let data = prompt(\\\"上面兩個條件達成時設定每站循環噴灑(Foehn OpT)\\\");\\n    if (data) {\\n        callSystemSetting(\\\"Foehn OpT\\\", data);\\n    }\\n});\\n\\nsetTimeout(function() {\\n    postCmd(\\\"system setting\\\");\\n}, 3000);\\n\\nsetTimeout(function() {\\n    updateControlNum();\\n    updateCustomPage();\\n}, 4000);\",\"option_title\":\"智慧噴灌控制器\",\"option_home_color\":\"#20395a\",\"option_home_background\":\"#fdfbce\",\"option_version\":\"0.0.5-example\",\"options_flag\":{\"title\":true,\"footer\":true,\"systemStatus\":true,\"config\":true,\"schedule\":true,\"custom\":true,\"network\":true,\"system\":true,\"terminal\":true},\"libs\":{},\"lib_size\":{}}"
  }
}